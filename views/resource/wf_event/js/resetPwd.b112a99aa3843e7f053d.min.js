!function(e){function t(t){for(var o,i,s=t[0],u=t[1],c=t[2],g=0,d=[];g<s.length;g++)i=s[g],Object.prototype.hasOwnProperty.call(n,i)&&n[i]&&d.push(n[i][0]),n[i]=0;for(o in u)Object.prototype.hasOwnProperty.call(u,o)&&(e[o]=u[o]);for(l&&l(t);d.length;)d.shift()();return a.push.apply(a,c||[]),r()}function r(){for(var e,t=0;t<a.length;t++){for(var r=a[t],o=!0,s=1;s<r.length;s++){var u=r[s];0!==n[u]&&(o=!1)}o&&(a.splice(t--,1),e=i(i.s=r[0]))}return e}var o={},n={9:0},a=[];function i(t){if(o[t])return o[t].exports;var r=o[t]={i:t,l:!1,exports:{}};return e[t].call(r.exports,r,r.exports,i),r.l=!0,r.exports}i.m=e,i.c=o,i.d=function(e,t,r){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(i.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)i.d(r,o,function(t){return e[t]}.bind(null,o));return r},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="./";var s=window.webpackJsonp=window.webpackJsonp||[],u=s.push.bind(s);s.push=t,s=s.slice();for(var c=0;c<s.length;c++)t(s[c]);var l=u;a.push([984,0]),r()}({107:function(e,t){if(String.prototype.format||(String.prototype.format=function(){var e=this,t=Array.prototype.slice.call(arguments);return e.replace(/(\{(\d+)\})/g,(function(e,r,o){return void 0===t[o]?e:t[o]}))}),!String.prototype.trim){var r=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g;String.prototype.trim=function(){return this.replace(r,"")}}Date.prototype.Format||(Date.prototype.Format=function(e){var t=e,r={"M+":this.getMonth()+1,"d+":this.getDate(),"h+":this.getHours(),"m+":this.getMinutes(),"s+":this.getSeconds(),"q+":Math.floor((this.getMonth()+3)/3),S:this.getMilliseconds()};for(var o in/(y+)/.test(t)&&(t=t.replace(RegExp.$1,(this.getFullYear()+"").substr(4-RegExp.$1.length))),r)new RegExp("("+o+")").test(t)&&(t=t.replace(RegExp.$1,1===RegExp.$1.length?r[o]:("00"+r[o]).substr((""+r[o]).length)));return t}),Number.prototype.toFixed=function(e){var t=Math.pow(10,e),r=this*t+.5;return(r=parseInt(r,10)/t)+""}},151:function(e,t){},152:function(e,t){},153:function(e,t){},154:function(e,t){},155:function(e,t){},156:function(e,t){},157:function(e,t){},158:function(e,t){},159:function(e,t){},16:function(e,t,r){"use strict";r.d(t,"a",(function(){return y}));var o=r(67),n=r.n(o),a=r(19),i=r.n(a),s=r(20),u=r.n(s),c=r(10),l=r.n(c);function g(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"==typeof e)return d(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return d(e,t)}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var o=0,n=function(){};return{s:n,n:function(){return o>=e.length?{done:!0}:{done:!1,value:e[o++]}},e:function(e){throw e},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,s=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return i=e.done,e},e:function(e){s=!0,a=e},f:function(){try{i||null==r.return||r.return()}finally{if(s)throw a}}}}function d(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,o=new Array(t);r<t;r++)o[r]=e[r];return o}var y=function(){function e(){i()(this,e)}return u()(e,null,[{key:"isArray",value:function(e){return"[object Array]"===Object.prototype.toString.call(e)}},{key:"isObject",value:function(e){return"[object Object]"===Object.prototype.toString.call(e)}},{key:"randomNumber",value:function(e,t){return Math.floor(Math.random()*(t-e+1)+e)}},{key:"b64EncodeUnicode",value:function(e){var t=encodeURIComponent(e);return btoa(encodeURIComponent(t).replace(/%([0-9A-F]{2})/g,(function(e,t){return String.fromCharCode("0x"+t)})))}},{key:"b64DecodeUnicodeForHttpLog",value:function(e){try{return decodeURIComponent(decodeURIComponent(atob(e).split("").map((function(e){return"%"+("00"+e.charCodeAt(0).toString(16)).slice(-2)})).join("")))}catch(t){return e}}},{key:"b64DecodeUnicode",value:function(e){try{return decodeURIComponent(decodeURIComponent(atob(e).split("").map((function(e){return"%"+("00"+e.charCodeAt(0).toString(16)).slice(-2)})).join("")))}catch(t){return e}}},{key:"b64DecodeUnicodeWithSpace",value:function(e){if(!e)return"";var t="";try{return t=e.replace(/ /g,"+"),decodeURIComponent(decodeURIComponent(atob(t).split("").map((function(e){return"%"+("00"+e.charCodeAt(0).toString(16)).slice(-2)})).join("")))}catch(e){return t}}},{key:"b64DecodeUnicodeBehavior",value:function(e){if(!e)return"";var t=e.replace(/ /g,"+");try{return decodeURIComponent(decodeURIComponent(atob(t).split("").map((function(e){return"%"+("00"+e.charCodeAt(0).toString(16)).slice(-2)})).join("")))}catch(t){return e}}},{key:"qs",value:function(t,r){var o=[];return function t(r,a){var i=function(n){if(!r.hasOwnProperty(n))return{v:void 0};var i=r[n];e.isArray(i)?i.forEach((function(e){o.push(encodeURIComponent((a?a+".":"")+n+"[]")+"="+encodeURIComponent(e||""))})):e.isObject(i)?t(i,a?a+"."+n:n):o.push(encodeURIComponent((a?a+".":"")+n)+"="+encodeURIComponent(i||""))};for(var s in r){var u=i(s);if("object"===n()(u))return u.v}}(t,""),r&&!t._&&o.push("_="+encodeURIComponent(BUILD_NO)),o.length?"?"+o.join("&"):""}},{key:"parseQs",value:function(){var e=window.location.search,t=e.indexOf("?"),r={};return-1===t||e.substr(t+1).split("&").forEach((function(e){var t=e.split("="),o=decodeURIComponent(t[0]),n=decodeURIComponent(t[1]||""),a=0,i=o.split("."),s=i.length;o=i[s-1];var u=r;if(s>1)for(;a<s-1;a++)u[i[a]]&&CommonTool.isObject(u[i[a]])||(u[i[a]]={}),u=u[i[a]];"[]"!==o.substr(-2)?u[o]=n:u[o=o.substr(0,o.length-2)]?u[o].push(n):u[o]=[n]})),r}},{key:"quickSort",value:function(t){if(t.length<=1)return t;for(var r=Math.floor(t.length/2),o=t.splice(r,1)[0],n=[],a=[],i=0;i<t.length;i++)t[i]<=o?n.push(t[i]):a.push(t[i]);return e.quickSort(n).concat([o],e.quickSort(a))}},{key:"showLoading",value:function(){}},{key:"get24HoursArray",value:function(){for(var e=(new Date).getTime(),t=[],r=0;r<24;r++){var o=new Date(e-60*r*60*1e3).Format("MM-dd hh");t.push(o)}return t}},{key:"getHoursArrayByTimeSize",value:function(t){if(0===t){for(var r=(new Date).getTime()-t*e.DAY_TIME,o=[],n=0;n<=24;n++){var a=r-n*e.HOUR_TIME,i=new Date(a).Format("MM-dd hh");o.push(i)}return o}for(var s=(new Date).getTime()-t*e.DAY_TIME,u=new Date(s).Format("MM-dd"),c=[],l=0;l<24;l++){var g=u+" "+(l<10?"0"+l:l);c.push(g)}return c.reverse()}},{key:"getSevenDaysAgoHoursArrayByTimeSize",value:function(t){if(0===t){for(var r=(new Date).getTime()-(7+t)*e.DAY_TIME,o=[],n=0;n<=24;n++){var a=r-n*e.HOUR_TIME,i=new Date(a).Format("MM-dd hh");o.push(i)}return o}for(var s=(new Date).getTime()-(7+t)*e.DAY_TIME,u=new Date(s).Format("MM-dd"),c=[],l=0;l<24;l++){var g=u+" "+(l<10?"0"+l:l);c.push(g)}return c.reverse()}},{key:"getSevenDaysAgo24HoursArray",value:function(){for(var e=(new Date).getTime()-6048e5,t=[],r=0;r<24;r++){var o=new Date(e-60*r*60*1e3).Format("MM-dd hh");t.push(o)}return t}},{key:"analysisInfoData",value:function(e,t){for(var r=[],o=[],n=0,a=0;a<t.length-1;a++){for(var i=!1,s=0;s<e.length;s++)if(e[s].hour===t[a]){var u=t[a],c=e[s].count;r.push(u),o.push(c),n+=parseInt(e[s].count,10),i=!0;break}!1===i&&(r.push(t[a]),o.push(0))}return{infoTotalCount:n,dateArray:r,infoArray:o,usefulArray:e.filter((function(e){return e.count>0}))}}},{key:"loadJs",value:function(e,t){var r=document.createElement("script");r.async=1,r.onload="function"==typeof t?t:function(){},r.src=e;var o=document.getElementsByTagName("script")[0];o.parentNode.insertBefore(r,o)}},{key:"deepCopy",value:function(e){if(e instanceof Array){for(var t=[],r=0;r<e.length;++r)t[r]=this.deepCopy(e[r]);return t}if(e instanceof Object){var o={};for(var n in e)o[n]=this.deepCopy(e[n]);return o}return e}},{key:"addDays",value:function(e){var t="",r=new Date,o=new Date(r.getTime()+24*e*60*60*1e3),n=o.getFullYear(),a=o.getMonth()+1,i=o.getDate();return t=n+"-",t=a>=10?t+a+"-":t+"0"+a+"-",i>=10?t+=i:t=t+"0"+i,t}},{key:"toFixed",value:function(e,t){if(e===1/0)return"-";var r=e,o=Math.pow(10,t);if(r<0)return r=Math.abs(r),-(parseInt(r*o+.5,10)/o);var n=parseInt(r*o+.5,10)/o,a=n,i=n+"";if(-1!==i.indexOf(".")){var s=i.split(".")[0],u=i.split(".")[1];u.length>t&&(u=u.substring(0,2)),a=s+"."+u}return 1*a}},{key:"getCookie",value:function(e){var t,r=new RegExp("(^| )"+e+"=([^;]*)(;|$)");return document.cookie.match(r)?(t=document.cookie.match(r),unescape(t[2])):""}},{key:"setCookie",value:function(e,t,r){var o=new Date;o.setTime(o.getTime()+r);var n=window.location.hostname;document.cookie=e+"="+t+";Path=/;domain="+n+";expires="+o.toGMTString()}},{key:"setWfCookie",value:function(e,t,r){var o=localStorage,n={data:t,expires:r};if(o.WEBFUNNY_COOKIE){var a=JSON.parse(o.WEBFUNNY_COOKIE);a[e]=n,o.WEBFUNNY_COOKIE=JSON.stringify(a)}else{var i={};i[e]=n,o.WEBFUNNY_COOKIE=JSON.stringify(i)}}},{key:"getWfCookie",value:function(e){var t=localStorage,r=null;if(t.WEBFUNNY_COOKIE){var o=(r=JSON.parse(t.WEBFUNNY_COOKIE))[e];if(!o)return"";var n=parseInt(o.expires,10);return(new Date).getTime()>n?(delete r[e],t.WEBFUNNY_COOKIE=JSON.stringify(r),""):o.data}return""}},{key:"removeDuplicateForString",value:function(e){var t=e.split(""),r=new Set(t);return Array.from(r).join("")}},{key:"quickSortForObject",value:function(t,r,o,n){if(!(o>n)){for(var a=t[o][r],i=t[o],s=o,u=n;s!==u;){for(;t[u][r]>=a&&u>s;)u--;for(;t[s][r]<=a&&u>s;)s++;if(u>s){var c=t[s];t[s]=t[u],t[u]=c}}t[o]=t[s],t[s]=i,e.quickSortForObject(t,r,o,s-1),e.quickSortForObject(t,r,s+1,n)}}},{key:"handleTimeScope",value:function(e){return Math.floor(((new Date).getTime()-new Date(e+" 00:00:00").getTime())/864e5)}},{key:"ajax",value:function(e,t,r,o,n){try{var a=window.XMLHttpRequest?new XMLHttpRequest:new ActiveXObject("Microsoft.XMLHTTP");a.open(e,t,!0),a.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),a.onreadystatechange=function(){if(4===a.readyState){var e={};try{e=a.responseText?JSON.parse(a.responseText):{}}catch(t){console.error(a.responseText),e={}}"function"==typeof o&&o(e)}else"function"==typeof n&&n()},a.onerror=function(){"function"==typeof n&&n()};var i=JSON.stringify(r||{});a.send("data="+i)}catch(e){console.warn(e)}}},{key:"handleTreeData",value:function(t){var r=[];for(var o in t){var a={};if(a.title=o,a.key=o,"object"===n()(t[o]))a.children=e.handleTreeData(t[o]);else if("string"==typeof t[o])a.children=[{title:'"'.concat(t[o],'"'),key:'"'.concat(t[o],'"')}];else if("number"==typeof t[o])a.children=[{title:t[o],key:t[o]}];else if("boolean"==typeof t[o]){var i={};switch(t[o]){case!0:i.title="true",i.key="true";break;case!1:i.title="false",i.key="false"}a.children=[i]}r.push(a)}return r}},{key:"encodeURIFunc",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window.location.href,t={},r=e.indexOf("?"),o=e.substr(r+1);if(-1!==r){var n,a=o.split("&"),i=g(a);try{for(i.s();!(n=i.n()).done;){var s=n.value,u=s.split("=");t[u[0]]=u[1]}}catch(e){i.e(e)}finally{i.f()}}return t}},{key:"formatTime",value:function(e,t){var r=new Date(e),o=function(e){return(e<10?"0":"")+e};return t.replace(/yyyy|MM|M|dd|d|HH|mm|ss/g,(function(e){switch(e){case"yyyy":return o(r.getFullYear());case"MM":return o(r.getMonth()+1);case"M":return r.getMonth()+1;case"mm":return o(r.getMinutes());case"dd":return o(r.getDate());case"d":return r.getDate();case"HH":return o(r.getHours());case"ss":return o(r.getSeconds());default:return""}}))}},{key:"updateQueryStringParameter",value:function(e,t,r){if(r){var o=new RegExp("([?&])"+t+"=.*?(&|$)","i"),n=-1!==e.indexOf("?")?"&":"?",a="";a=e.match(o)?e.replace(o,"$1"+t+"="+r+"$2"):e+n+t+"="+r,window.history.replaceState({path:a},"",a)}}},{key:"reWriteResize",value:function(e){var t=window.onresize;"function"!=typeof window.onresize?window.onresize=e:window.onresize=function(){t(),e()}}},{key:"queryURLParams",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:location.href,t=/(\w+)=(\w+)/gi,r={};return e.replace(t,(function(e,t,o){r[t]=o})),r}},{key:"getProjectId",value:function(){return window.localStorage.chooseEventProjectId}},{key:"getUuid",value:function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(e){var t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)}))}}]),e}();l()(y,"DAY_TIME",864e5),l()(y,"HOUR_TIME",36e5),l()(y,"handleTime",(function(e,t){var r=1*e,o="";return r<=0?{value:r,unit:""}:("time"===t?(o=r<1e3?"ms":"s",r=r>1e3?y.toFixed(r/1e3,2):y.toFixed(r,2)):"count"===t?r>1e4?(o="万",r=y.toFixed(r/1e4,2)):r>1e3?(o="千",r=y.toFixed(r/1e3,2)):r=y.toFixed(r,2):"percent"===t&&(o="%"),{value:r,unit:o})}))},160:function(e,t){},161:function(e,t){},162:function(e,t){},163:function(e,t){},164:function(e,t){},54:function(e,t,r){var o={apiServerUrl:"default_api_server_url",centerServerUrl:"default_center_server_url"};e.exports={getApiHost:function(){return o.apiServerUrl+"/wfEvent"},getCenterHost:function(){return o.centerServerUrl+"/wfCenter"}}},6:function(e,t,r){"use strict";(function(e){r.d(t,"a",(function(){return f}));var o=r(10),n=r.n(o),a=r(19),i=r.n(a),s=r(20),u=r.n(s),c=r(0),l=r.n(c),g=r(16),d=(r(150),r(107),r(45));function y(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,o)}return r}function p(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?y(Object(r),!0).forEach((function(t){n()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):y(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var f=function(){function t(){i()(this,t)}return u()(t,null,[{key:"get",value:function(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{isHandleResult:!0,isShowLoading:!0},n="GET",a=e+g.a.qs(r),i=Object.assign({},{method:n},this.getHeaders());return t.handleFetchData(a,i,o)}},{key:"getWithoutToken",value:function(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{isHandleResult:!0,isShowLoading:!0},n="GET",a=e+g.a.qs(r),i=Object.assign({},{method:n});return t.handleFetchData(a,i,o)}},{key:"post",value:function(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{isHandleResult:!0,isShowLoading:!0},n="POST",a=JSON.stringify(r),i=Object.assign({},{method:n,body:a},this.getHeaders());return t.handleFetchData(e,i,o)}},{key:"postWithoutToken",value:function(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{isHandleResult:!0,isShowLoading:!0},n="POST",a=JSON.stringify(r),i=Object.assign({},{method:n,body:a});return t.handleFetchData(e,i,o)}},{key:"put",value:function(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{isHandleResult:!0,isShowLoading:!0},n="PUT",a=JSON.stringify(r),i=Object.assign({},{method:n,body:a},this.getHeaders());return t.handleFetchData(e,i,o)}},{key:"handleFetchData",value:function(e,r,o){var n=p({},r);n.body&&n.body.length>1024&&(n.body=n.body.substr(0,1024)+"...");var a=o.isShowLoading;if(a&&t.showLoading(),o.isFetched=!1,o.isAbort=!1,o.hasOwnProperty("customHead")){var i=o.customHead;r.headers=Object.assign({},r.headers,i)}var s=new Promise((function(n,i){fetch(e,r).then((function(e){o.isAbort||(a&&t.hideLoading(),o.isFetched=!0,e.json().then((function(r){if(401!==r.code)if(e.ok)n(t.handleResult(r,o));else{var a=r.msg||"当前服务繁忙，请稍后再试";404===e.status&&(a="您访问的内容走丢了…"),r.data&&r.data.traceId?d.b.error(l.a.createElement("span",null,a,"，",l.a.createElement("a",{target:"_blank",href:"https://cloud.webfunny.com/wf_logger/logSearch.html?traceId=".concat(r.data.traceId)},"查看"))):d.b.error(a),i(t.handleResult(p({fetchStatus:"error",netStatus:e.status},r),o))}else{var s=window.location.href;window.location.href="//".concat(window.localStorage.webfunnyCenterAssetsDomain).concat("/wf_center","/login.html?target=").concat(encodeURIComponent(s))}})).catch((function(r){var n=r.name+" "+r.message;i(t.handleResult({fetchStatus:"error",error:n,netStatus:e.status},o))})))})).catch((function(e){var r=e.name+" "+e.message;o.isAbort||(a&&t.hideLoading(),o.isFetched=!0,!0===o.isHandleResult&&console.error("网络开小差了，稍后再试吧",2),i(t.handleResult({fetchStatus:"error",error:r},o)))}))}));return Promise.race([s,t.fetchTimeout(o)])}},{key:"handleResult",value:function(e,t){if(e.status&&!0===t.isHandleResult){var r=e.msg||e.message||"服务器开小差了，稍后再试吧";console.error("".concat(r,"（").concat(e.status,"）"),2)}return e}},{key:"fetchTimeout",value:function(e){var r=e.isShowLoading;return new Promise((function(o,n){setTimeout((function(){e.isFetched||(e.isAbort=!0,r&&t.hideLoading(),console.error("网络开小差了，稍后再试吧",2),n({fetchStatus:"timeout"}))}),e.timeout||3e5)}))}},{key:"getHeaders",value:function(){var e={"access-token":g.a.getCookie("webfunny_token")||"","wf-t":g.a.getUuid()};return Object.assign({},{},{headers:e})}},{key:"showLoading",value:function(){}},{key:"hideLoading",value:function(){}},{key:"wsGet",value:function(e,t,r,o,n,a){if(window.WebSocket=window.WebSocket||window.MozWebSocket,window.WebSocket){var i=new WebSocket(e);i.onmessage=function(e){r&&r(e)},i.onopen=function(r){console.log(e+" 连接成功"),o&&o(r),t&&t(i)},i.onclose=function(t){n&&n(t),i.close(),i=null,console.log(e+" 断开连接")},i.onerror=function(e){console.log(e),a&&a(e)}}else console.error("错误: 浏览器不支持websocket")}},{key:"ajax",value:function(t,r,o,n,a){var i={url:r,type:t,data:JSON.stringify(o),Accept:"*/*",contentType:"application/json;charset=utf-8",dataType:"json",traditional:!0,timeout:1e4,success:function(e,t,r){if(e.code){var o=e.msg||"服务器开小差了，稍后再试吧";return a&&"function"==typeof a&&a(o),void console.error(o)}try{n(e,r)}catch(e){console.error(e)}},error:function(e,t){var r,o="服务繁忙，稍后再试吧";switch(e.status){case 404:o="您访问的内容走丢了…";break;default:switch(t){case"timeout":o="网络开小差了，稍后再试吧";break;case"abort":o="服务繁忙，休息一下再说吧";break;case"error":o="当前服务繁忙，请稍后再试";break;default:o=(r=e.responseText?JSON.parse(e.responseText):{}).msg||(r.error||{}).message||"服务繁忙，稍后再试吧"}}a&&"function"==typeof a&&a(o),console.error(o)}};e.ajax(i)}},{key:"getApiDataFromCache",value:function(e){return"caches"in window?(console.log(window.caches),caches.match(e).then((function(e){return console.log(3,e),e?e.json():null}))):Promise.resolve()}},{key:"getCurrentInfo",value:function(){var e=r(108).verify;localStorage.webfunnySecretCode="webfunny_secret_code";var t=g.a.getCookie("webfunny_token")||"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VySWQiOiIyNGU0OTgyMC05ZTA4LTExZWItYWI5Ny02NzcwYzZhZjJiMjUiLCJ1c2VyVHlwZSI6InN1cGVyQWRtaW4iLCJlbWFpbE5hbWUiOiJqaWFuZzExMjU3MTJAMTYzLmNvbSIsImlhdCI6MTY0NjgwMTg5NCwiZXhwIjo0NDk4MDAxODk0fQ.BMjBtZUmGxA6FjbEMoxJr5Bi4LYwnkmn29lGT7FMR3s";return e(t,"webfunny-access",(function(e,r){return e&&(console.error("token解析失败：",t),console.error(e)),r}))}}]),t}()}).call(this,r(43))},7:function(e,t,r){"use strict";var o=r(10),n=r.n(o),a=r(54),i=r.n(a);function s(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,o)}return r}var u=i.a.getApiHost(),c=i.a.getCenterHost(),l={checkToken:c+"/checkToken",getUserInfo:c+"/getUserInfo",logout:c+"/logout",storeTokenToMemory:u+"/storeTokenToMemory",fixData:u+"/fixData",login:u+"/login",refreshValidateCode:u+"/refreshValidateCode",getValidateCode:u+"/getValidateCode",getUserList:u+"/getUserList",getAllUserInfoForSimple:u+"/getAllUserInfoForSimple",getUserListByAdmin:u+"/getUserListByAdmin",activeRegisterMember:u+"/activeRegisterMember",deleteRegisterMember:u+"/deleteRegisterMember",forGetPwd:u+"/forGetPwd",pushInfo:u+"/pushInfo",updateInfo:u+"/updateInfo",jsList:"//www.webfunny.cn/webfunny/manifest.json",sendRegisterEmail:u+"/sendRegisterEmail",register:u+"/register",resetPwd:u+"/resetPwd",registerCheck:u+"/registerCheck",registerForAdmin:u+"/registerForAdmin",userList:u+"/user/list",projectList:u+"/project/list",projectDetail:u+"/project/detail",updateStartList:u+"/project/updateStartList",updateMonitorCode:u+"/project/updateMonitorCode",allProjectList:u+"/project/list/all",getProjectDetailList:u+"/project/detailList",getProjectInfoInRealTime:u+"/project/getProjectInfoInRealTime",getProjectInfoListInRealTime:u+"/project/getProjectInfoListInRealTime",openProject:u+"/openProject",getTodayFlowDataByTenMin:u+"/getTodayFlowDataByTenMin",getTodayFlowData:u+"/getTodayFlowData",getErrorInfo:u+"/getErrorInfo",getWarningMsg:u+"/getWarningMsg",getWarningList:u+"/getWarningList",getJsErrorCountByDay:u+"/getJavascriptErrorInfoListByDay",getConsoleErrorCountByDay:u+"/getConsoleErrorInfoListByDay",getJavascriptErrorCountListByHour:u+"/getJavascriptErrorCountListByHour",getJsErrorCountByHour:u+"/getJsErrorCountByHour",getJsConsoleErrorCountByHour:u+"/getJavascriptConsoleErrorInfoListByHour",getJsErrorSort:u+"/getJavascriptErrorSort",getJsErrorSortInfo:u+"/getJavascriptErrorSortInfo",getConsoleErrorSort:u+"/getConsoleErrorSort",getJavascriptErrorCountByOs:u+"/getJavascriptErrorCountByOs",getJavascriptErrorCountByType:u+"/getJavascriptErrorCountByType",getJavascriptErrorListByMsg:u+"/getJavascriptErrorListByMsg",getJavascriptErrorAboutInfo:u+"/getJavascriptErrorAboutInfo",getJavascriptErrorDetail:function(e){return u+"/javascriptErrorInfo/"+e},getJavascriptErrorStackCode:u+"/getJavascriptErrorStackCode",getJavascriptErrorStackCodeForSource:u+"/getJavascriptErrorStackCodeForSource",getJavascriptErrorStackCodeForUrl:u+"/getJavascriptErrorStackCodeForUrl",getJavascriptErrorListByPage:u+"/getJavascriptErrorListByPage",setIgnoreJavascriptError:u+"/ignoreError",ignoreErrorByApplication:u+"/ignoreErrorByApplication",searchUserBehaviors:u+"/searchCustomerBehaviors",searchCustomerInfo:u+"/searchCustomerInfo",searchUserBehaviorsForExample:"http://47.105.132.73:8011/server/searchUserBehaviorsForExample",searchCustomerInfoForExample:"http://47.105.132.73:8011/server/searchCustomerInfoForExample",getScreenShotInfoListByPage:u+"/getScreenShotInfoListByPage",getCustomerCountByTime:u+"/getCustomerCountByTime",getPageLoadTimeByDate:u+"/getPageLoadTimeByDate",getResourceLoadInfoListByDay:u+"/getResourceLoadInfoListByDay",getResourceErrorCountByDay:u+"/getResourceErrorCountByDay",getResourceErrorCountByHour:u+"/getResourceErrorCountByHour",getHttpErrorCountByHour:u+"/getHttpErrorCountByHour",getPageLoadTimeForAll:u+"/getPageLoadTimeForAll",getAvgLoadTimeForAllByHour:u+"/getAvgLoadTimeForAllByHour",getPageLoadTimeByType:u+"/getPageLoadTimeByType",getPageLoadTimeListByUrl:u+"/getPageLoadTimeListByUrl",getPageLoadTimePercent:u+"/getPageLoadTimePercent",getHttpLoadTimeForAll:u+"/getHttpLoadTimeForAll",getHttpLoadTimePercent:u+"/getHttpLoadTimePercent",getHttpLoadTimeListByUrl:u+"/getHttpLoadTimeListByUrl",getHttpErrorCountByDay:u+"/getHttpErrorCountByDay",getHttpErrorListByDay:u+"/getHttpErrorListByDay",getHttpErrorListByUrl:u+"/getHttpErrorListByUrl",getHttpCountForLoadTimeGroupByDay:u+"/getHttpCountForLoadTimeGroupByDay",getHttpUrlCountListByHour:u+"/getHttpUrlCountListByHour",getHttpUrlCountForHourByMinutes:u+"/getHttpUrlCountForHourByMinutes",getPageCountForLoadTimeGroupByDay:u+"/getPageCountForLoadTimeGroupByDay",getPageCountForLoadTimeByDay:u+"/getPageCountForLoadTimeByDay",getHttpUrlListForLoadTime:u+"/getHttpUrlListForLoadTime",getPageUrlListForLoadTime:u+"/getPageUrlListForLoadTime",getHttpUrlUserCount:u+"/getHttpUrlUserCount",getDifferentKindAvgLoadTimeListByHour:u+"/getDifferentKindAvgLoadTimeListByHour",getDifferentKindAvgLoadTimeByHourForPageUrl:u+"/getDifferentKindAvgLoadTimeByHourForPageUrl",getPageUrlUserCount:u+"/getPageUrlUserCount",getPagesByHttpUrl:u+"/getPagesByHttpUrl",getPageUrlCountListByHour:u+"/getPageUrlCountListByHour",getPageUrlCountForHourByMinutes:u+"/getPageUrlCountForHourByMinutes",getPvCountByHour:u+"/getPvCountByHour",getNewCustomerCountByHour:u+"/getNewCustomerCountByHour",getCusLeavePercentByHour:u+"/getCusLeavePercentByHour",getInstallCountByHour:u+"/getInstallCountByHour",uvCountForMonth:u+"/uvCountForMonth",getUvCountByHour:u+"/getUvCountByHour",getAliveCusInRealTime:u+"/getAliveCusInRealTime",getConcurrencyByMinuteInHour:u+"/getConcurrencyByMinuteInHour",getUserCountByHour:u+"/getUserCountByHour",getVersionCountOrderByCount:u+"/getVersionCountOrderByCount",getCityCountOrderByCount:u+"/getCityCountOrderByCount",getCityCountOrderByCountTop20:u+"/getCityCountOrderByCountTop20",getDeviceCountOrderByCount:u+"/getDeviceCountOrderByCount",getDeviceSizeCountOrderByCount:u+"/getDeviceSizeCountOrderByCount",getOsCountOrderByCount:u+"/getOsCountOrderByCount",getProvinceCountBySeconds:u+"/getProvinceCountBySeconds",getLocationDataForMap:u+"/getLocationDataForMap",getTagsPercent:u+"/getTagsPercent",getPvCountBySecond:u+"/getPvUvCountBySecond",getPvCountByMinute:u+"/getPvCountByMinute",getHttpCountByMinute:u+"/getHttpCountByMinute",getJavascriptErrorCountByMinute:u+"/getJavascriptErrorCountByMinute",getPvListByPage:u+"/getPvListByPage",getPvListTotalCountByTime:u+"/getPvListTotalCountByTime",getSevenDaysLeftCount:u+"/getSevenDaysLeftCount",getYesterdayLeftPercent:u+"/getYesterdayLeftPercent",getStayTimeForEveryDay:u+"/getStayTimeForEveryDay",getVideosEvent:u+"/getVideosEvent",createConfig:u+"/createConfig",changeLogServerStatus:u+"/changeLogServerStatus",changeMonitorStatus:u+"/changeMonitorStatus",changeLogServerStatusByWebMonitorId:u+"/changeLogServerStatusByWebMonitorId",changeWaitCounts:u+"/changeWaitCounts",changeSaveDays:u+"/changeSaveDays",saveMysqlConfigs:u+"/saveMysqlConfigsForNew",getLogServerStatus:u+"/getLogServerStatusForNew",getStopWebMonitorIdList:u+"/getStopWebMonitorIdList",getTeamList:c+"/getSimpleTeamList",updateTeamProjects:c+"/updateTeam",createNewTeam:c+"/createNewTeam",addTeamMember:u+"/addTeamMember",getAllTeamList:u+"/getAllTeamList",deleteTeam:u+"/deleteTeam",moveProToTeam:u+"/moveProToTeam",createNewProject:u+"/createNewProject",checkProjectCount:u+"/checkProjectCount",getUserTags:u+"/getUserTags",saveUserTags:u+"/saveUserTags",getProjectConfig:u+"/getProjectConfig",saveProjectConfig:u+"/saveProjectConfig",deleteProject:u+"/deleteProject",sendEmailCode:"//www.webfunny.cn/server/sendEmailCode",getPurchaseCodeDetail:"//www.webfunny.cn/server/getPurchaseCodeDetail",connectUser:u+"/connectUser",disconnectUser:u+"/disconnectUser",connectUserRecord:u+"/connectUserRecord",getDebugInfos:u+"/getDebugInfos",getHistoryDebugInfos:u+"/getHistoryDebugInfos",getDebugInfosForPage:u+"/getDebugInfosForPage",getDebugInfoForLocalInfo:u+"/getDebugInfoForLocalInfo",clearLocalInfo:u+"/clearLocalInfo",getDebugInfoForVideo:u+"/getDebugInfoForVideo",createLocationPointGroup:u+"/createLocationPointGroup",getGroupNameList:u+"/getGroupNameList",getLocationPointGroupList:u+"/getLocationPointGroupList",deleteLocationPointGroup:u+"/deleteLocationPointGroup",createLocationPointType:u+"/createLocationPointType",getLocationPointTypeList:u+"/getLocationPointTypeList",deleteLocationPointType:u+"/deleteLocationPointType",locationPointCountForMonth:u+"/locationPointCountForMonth",createFunnelType:u+"/createFunnelType",getFunnelList:u+"/getFunnelList",deleteFunnel:u+"/deleteFunnel",getLocationPointForDay:u+"/getLocationPointForDay",getFunnelLeftCountForDay:u+"/getFunnelLeftCountForDay",getCheckTime:u+"/getCheckTime",changeCheckTime:u+"/changeCheckTime",getJsErrorConfig:u+"/getJsErrorConfig",changeJsErrorConfig:u+"/changeJsErrorConfig",getConsoleErrorConfig:u+"/getConsoleErrorConfig",changeConsoleErrorConfig:u+"/changeConsoleErrorConfig",getHttpErrorConfig:u+"/getHttpErrorConfig",changeHttpErrorConfig:u+"/changeHttpErrorConfig",getResourceErrorConfig:u+"/getResourceErrorConfig",changeResourceErrorConfig:u+"/changeResourceErrorConfig",createNewAlarmRule:u+"/createNewAlarmRule",getAllAlarmRule:u+"/getAllAlarmRule",saveAlarmInfo:u+"/saveAlarmInfo",deleteAlarmRule:u+"/deleteAlarmRule",getAlarmListByProjectId:u+"/buryPointAlarm/getListByProjectId",getPvUvInRealTimeByMinute:u+"/getPvUvInRealTimeByMinute",getHttpInfoInRealTimeByMinute:u+"/getHttpInfoInRealTimeByMinute",getErrorInfoInRealTimeByMinute:u+"/getErrorInfoInRealTimeByMinute",getInitErrorInfoInRealTimeByTimeSize:u+"/getInitErrorInfoInRealTimeByTimeSize",mysqlStatus:u+"/mysqlStatus",getSysInfo:u+"/getSysInfo",getAllTableList:u+"/getAllTableList",createPurchaseCode:u+"/createPurchaseCode",checkTableCreateCommand:u+"/checkTableCreateCommand",testBehaviors:u+"/testBehaviors",upLog:u+"/upLog",getMessageByType:u+"/getMessageByType",readMessage:u+"/readMessage",readAll:u+"/readAll",buryPointProjectTree:u+"/buryPointProject/tree",buryPointGetProjectTree:u+"/buryPointProject/getProjectTree",buryPointProjectCreate:u+"/buryPointProject/create",buryPointProjectExportTemplate:u+"/buryPointProject/templateExport",buryPointProjectExistTemplate:u+"/buryPointProject/existTemplate",buryPointProjectDelete:u+"/buryPointProject/delete",buryPointProjectUpdate:u+"/buryPointProject/update",buryPointPageMove:u+"/buryPointProject/page/move",buryPointProjectSort:u+"/buryPointProject/sort",buryPointWarehouseList:u+"/buryPointWarehouse/list",getFieldListByPointId:u+"/buryPointField/getListByPointId",getListAndWfByPointId:u+"/buryPointField/getListAndWfByPointId",getListAndWfByProjectId:u+"/buryPointField/getListAndWfByProjectId",getGroupByQuery:u+"/buryPointCard/groupByQuery",buryPointCardCreate:u+"/buryPointCard/create",buryPointCardCopy:u+"/buryPointCard/card/copy",buryPointMoveCard:u+"/buryPointCard/moveCard",buryPointProjectCopyPage:u+"/buryPointProject/copyPage",buryPointCardList:u+"/buryPointCard/list",buryPointCardGetList:u+"/buryPointCard/getList",buryPointCardTableDisplay:u+"/buryPointCard/tableDisplay",buryPointCardDelete:u+"/buryPointCard/delete",buryPointCardDeleteBatch:u+"/buryPointCard/deleteBatch",buryPointCardRefresh:u+"/buryPointCard/refresh",getPathPage:u+"/buryPointCard/getPathPage",getPageWidthList:u+"/buryPointCard/getPageWidthList",getHeatMapValueTimeSlotData:u+"/buryPointCard/getHeatMapValueTimeSlotData",pagePoint:u+"/buryPointField/page",listPoint:u+"/buryPointField/list",getFieldCount:u+"/buryPointField/getFieldCount",importFields:u+"/buryPointField/fieldExport",listAllPoint:u+"/buryPointField/AllList",createPoint:u+"/buryPointField/create",updatePoint:u+"/buryPointField/update",deletePoint:u+"/buryPointField/delete",pageStorehouse:u+"/buryPointWarehouse/page",listStorehouse:u+"/buryPointWarehouse/list",pointProjectAndOldList:u+"/buryPointWarehouse/getProjectAndOldList",getProjectAndWeList:u+"/buryPointWarehouse/getProjectAndWeList",createStorehouse:u+"/buryPointWarehouse/create",updateStorehouse:u+"/buryPointWarehouse/update",deleteStorehouse:u+"/buryPointWarehouse/delete",detailStorehouse:u+"/buryPointWarehouse/detail",importPoints:u+"/buryPointWarehouse/pointExport",pageSDK:u+"/sdkRelease/page",listSDK:u+"/sdkRelease/list",createSDK:u+"/sdkRelease/create",deleteSDK:u+"/sdkRelease/delete",allProject:u+"/buryPointProject/allProject",downLoad:u+"/sdkRelease/downLoad",updateSDK:u+"/sdkRelease/update",getTeams:u+"/getTeams",getBuryPointCardDetail:u+"/buryPointCard/detail",updateBuryPointCard:u+"/buryPointCard/update",sortBuryPointCard:u+"/buryPointCard/sort",buryPointCardOrder:u+"/buryPointCard/order",getPointTestList:u+"/buryPointTest/page",getPointTestFailList:u+"/buryPointTest/page/error",buryPointTestSearch:u+"/buryPointTest/search",buryPointTestApiExport:u+"/buryPointTest/apiExport",buryPointTestSearchAllRecord:u+"/buryPointTest/searchAllRecord",buryPointTestSearchFieldName:u+"/buryPointTest/searchFieldName",buryPointTestSearchExport:u+"/buryPointTest/searchExport",getProjectList:u+"/buryPointProject/getProjectList",sdkReleaseDetail:u+"/sdkRelease/detail",changeUploadDomain:u+"/sdkRelease/changeUploadDomain",getMyTemplateList:u+"/buryPointTemplate/getMyList",getSysTemplateList:u+"/buryPointTemplate/getSysList",getCommonTemplateList:u+"/buryPointTemplate/getCommonList",createProjectByTemplate:u+"/buryPointTemplate/createProject",deleteBatchTemplate:u+"/buryPointTemplate/deleteBatch",deleteTemplate:u+"/buryPointTemplate/delete",copyTemplate:u+"/buryPointTemplate/copy",updateTemplateName:u+"/buryPointTemplate/updateName",getBaseInfo:u+"/baseInfo",getCreatorList:c+"/getUserList",getUserListForTeam:c+"/getUserListForTeam",createBuryPointTask:u+"/buryPointTask/create",getBuryPointTaskList:u+"/buryPointTask/list",deleteBuryPointTaskList:u+"/buryPointTask/batchDeletion",deleteBuryPointTask:u+"/buryPointTask/delete",updateBuryPointTask:u+"/buryPointTask/update",updateStatusBuryPointTask:u+"/buryPointTask/updateStatus",changeHandleManBuryPointTask:u+"/buryPointTask/changeHandleMan",buryPointTaskDetail:u+"/buryPointTask/detail",createBuryPointAlarm:u+"/buryPointAlarm/create",getBuryPointAlarmDetail:u+"/buryPointAlarm/detail",getBuryPointAlarmList:u+"/buryPointAlarm/list",deleteBuryPointAlarm:u+"/buryPointAlarm/delete",updateStatusBuryPointAlarm:u+"/buryPointAlarm/updateStatus",updateBuryPointAlarm:u+"/buryPointAlarm/update",copyBuryPointAlarm:u+"/buryPointAlarm/copy",batchDeletionBuryPointAlarm:u+"/buryPointAlarm/batchDeletion"};t.a=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?s(Object(r),!0).forEach((function(t){n()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):s(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},l)},956:function(e,t,r){},984:function(e,t,r){"use strict";r.r(t);var o=r(10),n=r.n(o),a=r(19),i=r.n(a),s=r(20),u=r.n(s),c=r(14),l=r.n(c),g=r(24),d=r.n(g),y=r(25),p=r.n(y),f=r(17),m=r.n(f),h=(r(956),r(0)),v=r.n(h),P=r(64),b=r.n(P),C=r(45),T=r(6),L=r(7),w=r(16);function B(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,o)}return r}function S(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,o=m()(e);if(t){var n=m()(this).constructor;r=Reflect.construct(o,arguments,n)}else r=o.apply(this,arguments);return p()(this,r)}}var E=function(e){d()(r,e);var t=S(r);function r(e){var o;return i()(this,r),(o=t.call(this,e)).initState={name:"",email:"",emailCode:"",password:""},o.state=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?B(Object(r),!0).forEach((function(t){n()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):B(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({registerType:0,emailCodeLoading:!1,timeCount:0},o.initState),o.sendAble=!0,o.resetAble=!0,o.resetPwd=o.resetPwd.bind(l()(o)),o}return u()(r,[{key:"componentDidMount",value:function(){var e=w.a.parseQs().type;this.setState({registerType:1*e})}},{key:"render",value:function(){var e=this,t=this.state,r=t.email,o=t.emailCode,n=t.password,a=t.timeCount,i=t.registerType;return v.a.createElement("div",{className:"resetPwd-container"},v.a.createElement("header",null,v.a.createElement("span",{className:"home-icon",onClick:function(){window.location.href="./home.html"}},v.a.createElement("img",{style:{width:"100%"},src:"/webfunny/logos/logo.png"}))),v.a.createElement("section",{className:"signup-content"},v.a.createElement("h1",null,"重置密码"),v.a.createElement("div",{className:"register account tab-pane fade in active",id:"signupByPhone"},v.a.createElement("div",{className:"input-set phone"},v.a.createElement("span",{className:"input-title"},"邮箱（登录名）"),v.a.createElement("input",{type:"email",placeholder:"请输入邮箱","data-growing-track":"true",maxLength:50,value:r,onChange:function(t){e.setState({email:t.target.value})}}),v.a.createElement("span",{id:"emessage-mobile",className:"emessage"})),1===i?null:v.a.createElement("div",{className:"input-set phone-verif"},v.a.createElement("span",{className:"input-title"},"邮箱验证码"),v.a.createElement("input",{name:"verifyCode",placeholder:"请输入邮箱验证码",style:{width:165},value:o,onChange:function(t){e.setState({emailCode:t.target.value})}}),v.a.createElement("button",{id:"captcha","data-button-clicked":"true",className:a>0?"captcha captcha-phone captcha-disable":"captcha captcha-phone",type:"button",onClick:this.getEmailCode.bind(this)},a>0?"重新发送(".concat(a,"s)"):"获取验证码"),v.a.createElement("span",{id:"emessage-verifyCode",className:"emessage"})),v.a.createElement("div",{className:"input-set phone"},v.a.createElement("span",{className:"input-title"},"新的登录密码"),v.a.createElement("input",{placeholder:"请输入新密码","data-growing-track":"true",maxLength:30,value:n,onChange:function(t){e.setState({password:t.target.value})}}),v.a.createElement("span",{id:"emessage-pwd",className:"emessage"})),v.a.createElement("button",{className:"active login-btn",onClick:this.resetPwd},"重置密码"))))}},{key:"getEmailCode",value:function(){var e=this,t=this.state.email;if(/^[a-zA-Z0-9._-]+@[a-zA-Z0-9_-]+(\.[a-zA-Z0-9_-]+)+$/.test(t)){if(this.sendAble){this.sendAble=!1;var r,o,n=120,a=setInterval((function(){0===n&&(clearInterval(a),e.sendAble=!0),e.setState({timeCount:n}),n--}),1e3);r={email:t},o=function(){C.b.success("验证码已经发送，请注意查收"),e.setState({emailCodeLoading:!1})},T.a.postWithoutToken(L.a.sendRegisterEmail,r).then((function(e){o(e.data)})).catch((function(e){console.error(e)}))}}else C.b.error("请输入正确的邮箱地址！")}},{key:"resetPwd",value:function(){var e=this;if(this.resetAble){var t=this.state,r=t.email,o=t.emailCode,n=t.password;if(/^[a-zA-Z0-9._-]+@[a-zA-Z0-9_-]+(\.[a-zA-Z0-9_-]+)+$/.test(r))if(o)if(n){this.resetAble=!1;var a,i,s,u=w.a.b64EncodeUnicode(n.split("").reverse().join(""));a={email:r,emailCode:o,password:u},i=function(t){0===t.data?(C.b.success("密码重置成功，即将跳转到登录页。",3),setTimeout((function(){window.location.href="./login.html?userEmail="+r+"&password="+n}),5e3)):(C.b.error(v.a.createElement("span",null,t.msg),5),e.resetAble=!0)},s=function(){e.resetAble=!0},T.a.getWithoutToken(L.a.resetPwd,a).then((function(e){i(e)})).catch((function(e){s(),console.error(e)}))}else C.b.error("请输入新密码！");else C.b.error("请输入邮箱验证码！");else C.b.error("请输入正确的邮箱地址！")}}},{key:"registerForAdmin",value:function(){var e=this;if(this.resetAble){var t=this.state,r=t.email,o=t.emailCode,n=t.password;/^[a-zA-Z0-9._-]+@[a-zA-Z0-9_-]+(\.[a-zA-Z0-9_-]+)+$/.test(r)?n?(this.resetAble=!1,(void 0)({name:"管理员",email:r,emailCode:o,password:n,userType:"admin"},(function(t){0===t.data?(C.b.success("管理员账号设置成功。即将跳转到登录页",3),setTimeout((function(){window.location.href="./login.html?userEmail="+r+"&password="+n}),3e3)):(C.b.error(t.msg),e.resetAble=!0)}))):C.b.error("请输入密码！"):C.b.error("请输入正确的邮箱地址！")}}},{key:"goLogin",value:function(){fetch("http://localhost:3000/api/v1/user/list",(function(){}))}}]),r}(h.Component);b.a.render(v.a.createElement(E,null),document.getElementById("app"))}});