(function(n){var r={};function o(e){if(r[e])return r[e].exports;var t=r[e]={i:e,l:!1,exports:{}};n[e].call(t.exports,t,t.exports,o);t.l=!0;return t.exports}o.m=n;o.c=r;o.d=function(e,t,n){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})};o.r=function(e){"undefined"!=typeof undefined&&"undefined.toStringTag"&&Object.defineProperty(e,"undefined.toStringTag",{value:"Module"});Object.defineProperty(e,"__esModule",{value:!0})};o.t=function(t,e){1&e&&(t=o(t));if(8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);o.r(n);Object.defineProperty(n,"default",{enumerable:!0,value:t});if(2&e&&"string"!=typeof t)for(var r in t)o.d(n,r,function(e){return t[e]}.bind(null,r));return n};o.n=function(t){var e=t&&t.__esModule?function e(){return t["default"]}:function e(){return t};o.d(e,"a",e);return e};o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)};o.p="";o(o.s=0)})([function(e,t,n){function o(e){return(o="function"==typeof undefined&&"symbol"==typeof "undefined.iterator"?function(e){return typeof e}:function(e){return e&&"function"==typeof undefined&&e.constructor===undefined&&e!==Object.prototype?"symbol":typeof e})(e)}n(1);n(2);n(3);n(4);n(5);n(6);n(7);n(8);n(9);n(10);var a="undefined"!=typeof window?window:this,r="1.0.0-ie8",s="WebfunnyMonitor",u={webMonitorId:"",uploadUrl:"",enablePV:!0,enableClick:!0,enableError:!0,enablePerf:!0,batchSize:10,flushInterval:3e3,maxRetries:3,timeout:5e3,debug:!1,silentMode:!1,webfunnyDomain:"",webfunnyAssetsDomain:"",webfunnyMonitorId:"",env:"pro",projectVersion:"1.0.0",hasTrace:"0",startList:[]},f={initialized:!1,modules:{},startTime:(new Date).getTime()},i={version:r,init:function e(t){try{if(f.initialized)l("warn");else{var n=function e(t){var n,r={};for(n in t)Object.prototype.hasOwnProperty.call(t,n)&&(r[n]=t[n]);t.webfunnyMonitorId&&(r.webMonitorId=t.webfunnyMonitorId);if(t.webfunnyDomain){var o=t.webfunnyDomain;"/"!==o.charAt(o.length-1)&&(o+="/");r.uploadUrl=o+"wfMonitor/upLog"}if(t.startList&&0<t.startList.length){r.enablePV=!1;r.enablePerf=!1;r.enableClick=!1;r.enableError=!1;for(var i=0;i<t.startList.length;i++){var a=t.startList[i];if("pageView"===a){r.enablePV=!0;r.enablePerf=!0}else"behavior"===a?r.enableClick=!0:"jsError"===a?r.enableError=!0:"httpLog"===a&&(r.enableHttp=!0)}}return r}(t),r=t.webfunnyMonitorId&&t.webfunnyDomain,o=t.webMonitorId&&t.uploadUrl;if(!t||!r&&!o)return l("error"),!1;!function e(t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(u[n]=t[n])}(n);if(!function e(){try{for(var t=["WfUtils","WfDevice","WfStorage","WfUpload","WfQueue"],n=0;n<t.length;n++){var r=t[n];if(void 0===a[r])return l("error"),void 0}f.modules.utils=a.WfUtils;f.modules.device=a.WfDevice;f.modules.storage=a.WfStorage;f.modules.utils&&f.modules.utils.setWebMonitorId(u.webMonitorId);if(void 0!==a.WfPageView){f.modules.pageview=a.WfPageView;f.modules.pageview.init(u)}if(void 0!==a.WfAction){f.modules.action=a.WfAction;f.modules.action.init(u)}if(void 0!==a.WfError){f.modules.error=a.WfError;f.modules.error.init(u)}if(void 0!==a.WfHttp){f.modules.http=a.WfHttp;f.modules.http.init(u,c,f.modules.utils)}f.modules.upload=a.WfUpload;f.modules.upload.init(u);f.modules.queue=a.WfQueue;f.modules.queue.init(u,f.modules.upload);return 1}catch(e){l("error",e.message)}}())return l("error"),!1;!function e(){try{if(u.enablePV&&f.modules.pageview){f.modules.pageview.recordPageView(c);f.modules.pageview.bindUnloadEvent(c)}u.enableClick&&f.modules.action&&f.modules.action.startClickMonitor(c);u.enableError&&f.modules.error&&f.modules.error.startErrorMonitor(c);l("info")}catch(e){l("error",e.message)}}();!function e(){try{var i=a.onerror;a.onerror=function(e,t,n,r,o){try{e&&-1===e.indexOf("["+s+"]")&&u.enableError&&f.modules.error&&f.modules.error.recordError(o||e,c)}catch(e){}return!(!i||"function"!=typeof i)&&i.apply(this,arguments)}}catch(e){l("error",e.message)}}();f.initialized=!0;l("info")}return!0}catch(e){l("error",e.message);return!1}},track:function e(t,n){try{return f.initialized?c({uploadType:"CUSTOMIZE_BEHAVIOR",happenTime:(new Date).getTime(),eventType:t||"custom",eventData:n||{},webMonitorId:u.webMonitorId}):(l("warn"),!1)}catch(e){l("error",e.message);return!1}},setUser:function e(t,n){try{if(f.initialized){if(f.modules.storage){f.modules.storage.setItem("userId",t||"");n&&f.modules.storage.setItem("userInfo",JSON.stringify(n))}l("info")}else l("warn")}catch(e){l("error",e.message)}},trackPageView:function e(t){try{var n;return f.initialized&&f.modules.pageview?(n=t||a.WfUtils.getPageInfo(),c(f.modules.pageview.getPageViewInfo(n,"manual"))):!1}catch(e){l("error",e.message);return!1}},trackError:function e(t){try{return f.initialized&&f.modules.error?f.modules.error.recordError(t,c):!1}catch(e){l("error",e.message);return!1}},flush:function e(){try{f.modules.queue&&f.modules.queue.flush()}catch(e){l("error",e.message)}},pause:function e(){try{f.modules.queue&&f.modules.queue.pause();l("info")}catch(e){l("error",e.message)}},resume:function e(){try{f.modules.queue&&f.modules.queue.resume();l("info")}catch(e){l("error",e.message)}},initUser:function e(t){try{if(t&&"object"===o(t))if(void 0!==a.WfUtils){if(a.WfUtils.setCusInfo(t)){l("info");t.userTag&&a.WfUtils.setCusInfo("firstUserParam",t.userTag);return!0}l("error")}else l("error");else l("error");return!1}catch(e){l("error",e.message);return!1}},trackHttp:function e(t){try{if(f.initialized){if(f.modules.http){f.modules.http.recordHttp(t);l("info");return!0}l("warning")}else l("warning");return!1}catch(e){l("error",e.message);return!1}},getStatus:function e(){try{var t={initialized:f.initialized,version:r,config:function e(t){try{if(!t||"object"!==o(t))return t;var n,r={};for(n in t)Object.prototype.hasOwnProperty.call(t,n)&&(r[n]=t[n]);return r}catch(e){return{}}}(u),uptime:(new Date).getTime()-f.startTime};f.modules.queue&&(t.queue=f.modules.queue.getStatus());f.modules.upload&&(t.upload=f.modules.upload.getRetryQueueStatus());f.modules.device&&(t.device=f.modules.device.getSimpleInfo());return t}catch(e){l("error",e.message);return{initialized:!1,version:r}}},destroy:function e(){try{this.flush();f.modules.action&&f.modules.action.stopClickMonitor&&f.modules.action.stopClickMonitor();f.modules.error&&f.modules.error.stopErrorMonitor&&f.modules.error.stopErrorMonitor();f.modules.queue&&f.modules.queue.clear();f.initialized=!1;f.modules={};l("info")}catch(e){l("error",e.message)}}};function c(e){try{return e&&f.modules.queue?f.modules.queue.add(e):!1}catch(e){l("error",e.message);return!1}}function l(e){if(!u.silentMode)if("undefined"!=typeof console)try{!u.debug&&"error"!==e||console[e]||console.log}catch(e){}}function d(){try{void 0!==a.webfunnyMonitorConfig&&setTimeout(function(){i.init(a.webfunnyMonitorConfig)},0);void 0!==a.webfunnyIE8Config&&setTimeout(function(){i.init(a.webfunnyIE8Config)},0)}catch(e){}}if(void 0!==a){a.WebfunnyMonitor=i;a[s]=i;a.WebfunnyIE8=i}e.exports?e.exports=i:void 0!==a&&"function"==typeof a.define&&a.define.amd&&a.define(function(){return i});void 0!==a&&("loading"===document.readyState?document.addEventListener?document.addEventListener("DOMContentLoaded",d,!1):document.attachEvent&&document.attachEvent("onreadystatechange",function(){"complete"===document.readyState&&d()}):d())},function(module,exports){function _typeof(e){return(_typeof="function"==typeof undefined&&"symbol"==typeof "undefined.iterator"?function(e){return typeof e}:function(e){return e&&"function"==typeof undefined&&e.constructor===undefined&&e!==Object.prototype?"symbol":typeof e})(e)}!function(window){if(!window._WF_IE8_POLYFILLS_LOADED){Array.prototype.reduce||(Array.prototype.reduce=function(e,t){if(null==this)throw new TypeError("Array.prototype.reduce called on null or undefined");if("function"!=typeof e)throw new TypeError(e+" is not a function");var n,r=Object(this),o=parseInt(r.length)||0,i=0;if(2<=arguments.length)n=t;else{for(;i<o&&!(i in r);)i++;if(o<=i)throw new TypeError("Reduce of empty array with no initial value");n=r[i++]}for(;i<o;){i in r&&(n=e(n,r[i],i,r));i++}return n});Array.isArray||(Array.isArray=function(e){return"[object Array]"===Object.prototype.toString.call(e)});"object"!==("undefined"==typeof JSON?"undefined":_typeof(JSON))&&(window.JSON={});"function"!=typeof JSON.stringify&&(JSON.stringify=function(e,t,n){var r,f,c="",l="";if("number"==typeof n)for(r=0;r<n;r+=1)l+=" ";else"string"==typeof n&&(l=n);if(!(f=t)||"function"==typeof t||"object"===_typeof(t)&&"number"==typeof t.length)return function e(t,n){var r,o,i,a;var s;var u=n[t];u&&"object"===_typeof(u)&&"function"==typeof u.toJSON&&(u=u.toJSON(t));"function"==typeof f&&(u=f.call(n,t,u));switch(_typeof(u)){case"string":return d(u);case"number":return isFinite(u)?String(u):"null";case"boolean":case"null":return String(u);case"object":if(!u)return"null";c+=l;s=[];if("[object Array]"===Object.prototype.toString.apply(u)){a=u.length;for(r=0;r<a;r+=1)s[r]=e(r,u)||"null";i=0===s.length?"[]":c?"[\n"+c+s.join(",\n"+c)+"\n"+l+"]":"["+s.join(",")+"]"}else{if(f&&"object"===_typeof(f)){a=f.length;for(r=0;r<a;r+=1)if("string"==typeof f[r]){o=f[r];(i=e(o,u))&&s.push(d(o)+(c?": ":":")+i)}}else for(o in u)Object.prototype.hasOwnProperty.call(u,o)&&(i=e(o,u))&&s.push(d(o)+(c?": ":":")+i);i=0===s.length?"{}":c?"{\n"+c+s.join(",\n"+c)+"\n"+l+"}":"{"+s.join(",")+"}"}c=l;return i}}("",{"":e});throw new Error("JSON.stringify");function d(e){var t=/[\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,n={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"};t.lastIndex=0;return t.test(e)?'"'+e.replace(t,function(e){var t=n[e];return"string"==typeof t?t:"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+e+'"'}});"function"!=typeof JSON.parse&&(JSON.parse=function(text,reviver){var j;function walk(e,t){var n,r,o=e[t];if(o&&"object"===_typeof(o))for(n in o)Object.prototype.hasOwnProperty.call(o,n)&&(void 0!==(r=walk(o,n))?o[n]=r:delete o[n]);return reviver.call(e,t,o)}text=String(text);var cx=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g;cx.lastIndex=0;cx.test(text)&&(text=text.replace(cx,function(e){return"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)}));if(/^[\],:{}\s]*$/.test(text.replace(/\\(?:["\\bfnrt/]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,""))){return j=eval("("+text+")"),"function"==typeof reviver?walk({"":j},""):j}throw new SyntaxError("JSON.parse")});String.prototype.startsWith||(String.prototype.startsWith=function(e,t){return this.substr(t=t||0,e.length)===e});String.prototype.trim||(String.prototype.trim=function(){return this.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")});Object.keys||(Object.keys=function(e){var t,n=[];for(t in e)Object.prototype.hasOwnProperty.call(e,t)&&n.push(t);return n});Date.now||(Date.now=function(){return(new Date).getTime()});Function.prototype.bind||(Function.prototype.bind=function(t){if("function"!=typeof this)throw new TypeError("Function.prototype.bind - what is trying to be bound is not callable");var n=Array.prototype.slice.call(arguments,1),r=this,o=function e(){},e=function e(){return r.apply(this instanceof o?this:t,n.concat(Array.prototype.slice.call(arguments)))};this.prototype&&(o.prototype=this.prototype);e.prototype=new o;return e});window._WF_IE8_POLYFILLS_LOADED=!0}}("undefined"!=typeof window?window:this)},function(e,t,n){function u(e){return(u="function"==typeof undefined&&"symbol"==typeof "undefined.iterator"?function(e){return typeof e}:function(e){return e&&"function"==typeof undefined&&e.constructor===undefined&&e!==Object.prototype?"symbol":typeof e})(e)}r={webMonitorId:""},c="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",a="monitorCustomerKeys";var r,c,a,WfUtils={getUuid:function e(){var t=this.formatDate((new Date).getTime(),"yMdhms"),n=this;return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var t=16*n.wfRandom()|0;return("x"===e?t:3&t|8).toString(16)})+"-"+t},formatDate:function e(t,n){try{var r=new Date(t),o=r.getFullYear(),i=r.getMonth()+1,a=r.getDate(),s=r.getHours(),u=r.getMinutes(),f=r.getSeconds(),i=9<i?i:"0"+i,a=9<a?a:"0"+a,s=9<s?s:"0"+s,u=9<u?u:"0"+u,f=9<f?f:"0"+f;return n.replace("y",o).replace("M",i).replace("d",a).replace("h",s).replace("m",u).replace("s",f)}catch(e){return""}},wfRandom:function e(){return Math[["m","o","d","n","a","r"].reverse().join("")]()},perfSubtract:function e(t,n){return 0===t||0===n?0:t-n},b64Code:function e(t){if(!t)return"";try{var n=encodeURIComponent(t);if("undefined"!=typeof btoa)try{return btoa(n)}catch(e){}return this._base64Encode(n)}catch(e){return t}},_base64Encode:function e(t){for(var n,r,o,i,a,s,u="",f=0;f<t.length;){o=(n=t.charCodeAt(f++))>>2;i=(3&n)<<4|(n=t.charCodeAt(f++))>>4;a=(15&n)<<2|(r=t.charCodeAt(f++))>>6;s=63&r;isNaN(n)?a=s=64:isNaN(r)&&(s=64);u=u+c.charAt(o)+c.charAt(i)+c.charAt(a)+c.charAt(s)}return u},setWebMonitorId:function e(t){r.webMonitorId=t||""},getWebMonitorId:function e(){return r.webMonitorId},getCustomerKey:function e(t){if(!t)return{customerKey:"",newStatus:"old"};var n="",r="old";try{var o=this._getStorageItem(a),i={};if(o)try{i=JSON.parse(o)}catch(e){i={}}if(i[t]){n=i[t];r="old"}else{n=this._generateCustomerKey();i[t]=n;r="new";this._setStorageItem(a,JSON.stringify(i))}}catch(e){n=this._generateCustomerKey();r="new"}return{customerKey:n,newStatus:r}},_generateCustomerKey:function e(){return this.getUuid()},_setStorageItem:function e(t,n){try{"undefined"!=typeof localStorage&&localStorage.setItem(t,n)}catch(e){}},_getStorageItem:function e(t){try{if("undefined"!=typeof localStorage)return localStorage.getItem(t)}catch(e){}return null},getCusInfo:function e(t){try{if(t&&"undefined"!=typeof localStorage){var n=localStorage.getItem("wmUserInfo");if(n)return JSON.parse(n)[t]||""}return""}catch(e){return""}},setCusInfo:function e(t,n){try{if(!t)return!1;if("undefined"==typeof localStorage)return!1;var r={},o=localStorage.getItem("wmUserInfo");if(o)try{r=JSON.parse(o)}catch(e){r={}}if("object"===u(t))for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(r[i]=t[i]);else r[t]=n;localStorage.setItem("wmUserInfo",JSON.stringify(r));return!0}catch(e){this.log("error","setCusInfo error: "+e.message);return!1}},getAppInfo:function e(t){try{if(t){if("env"===t)return r.env||"pro";if("projectVersion"===t)return r.projectVersion||"1.0.0";if("undefined"!=typeof localStorage){var n=localStorage.getItem("wmAppInfo");if(n)return JSON.parse(n)[t]||""}}return""}catch(e){return""}},getKeyByWebMonitorId:function e(t){try{var n=this.getCustomerKey(t);return{customerKey:n.customerKey,newStatus:n.newStatus}}catch(e){return{customerKey:this._generateCustomerKey(),newStatus:"new"}}},getBaseInfo:function e(){try{var t=this.getWebMonitorId(),n=this.getAppInfo("projectVersion"),r=this.getAppInfo("env"),o=this.getCusInfo("userId"),i=this.getCusInfo("userTag")||this.getCusInfo("firstUserParam"),a=window.location.href,s=window.location.href.split("?")[0],u=this.getKeyByWebMonitorId(t);return{webMonitorId:t,userId:o,firstUserParam:i,projectVersion:n,env:r,completeUrl:a,simpleUrl:s,customerKey:u.customerKey,newStatus:u.newStatus}}catch(e){this.log("error","getBaseInfo error: "+e.message);return{webMonitorId:this.getWebMonitorId(),userId:"",firstUserParam:"",projectVersion:"1.0.0",env:"pro",completeUrl:"",simpleUrl:"",customerKey:this._generateCustomerKey(),newStatus:"new"}}},extend:function e(t,n){t=t||{};if(n)for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r]);return t},mergeObjects:function e(t,n){var r,o,i={};for(r in t=t||{})Object.prototype.hasOwnProperty.call(t,r)&&(i[r]=t[r]);for(o in n=n||{})Object.prototype.hasOwnProperty.call(n,o)&&(i[o]=n[o]);return i},getBasicCustomerInfo:function e(){return{customerKey:"guest_"+(new Date).getTime(),newStatus:"new"}},getPageInfo:function e(){try{var t=window.location.href||"",n=t.split("?")[0];return{completeUrl:t,simpleUrl:n}}catch(e){return{completeUrl:"",simpleUrl:""}}},toQueryString:function e(t){if(!t)return"";var n,r=[];for(n in t)if(Object.prototype.hasOwnProperty.call(t,n)){var o=t[n];null!=o&&r.push(encodeURIComponent(n)+"="+encodeURIComponent(o))}return r.join("&")},now:function e(){return Date.now?Date.now():(new Date).getTime()},isIE8:function e(){return"object"===("undefined"==typeof navigator?"undefined":u(navigator))&&"Microsoft Internet Explorer"===navigator.appName&&-1!==navigator.appVersion.indexOf("MSIE 8.")},isIE8Below:function e(){return"object"===("undefined"==typeof navigator?"undefined":u(navigator))&&"Microsoft Internet Explorer"===navigator.appName&&parseInt(navigator.appVersion.split(";")[1].replace(/[ ]/g,"").replace("MSIE",""))<=8},b64CodeForLog:function e(t){if(!t||"object"!==u(t))return t;try{var n,r={},o=["happenTime","webMonitorId","completeUrl","simpleUrl","uploadType","logContent"];for(n in t)if(Object.prototype.hasOwnProperty.call(t,n)){for(var i=t[n],a=!1,s=0;s<o.length;s++)if(n===o[s]){a=!0;break}r[n]=a||"string"!=typeof i||""===i?i:this.b64Code(i)}return r}catch(e){this.log("error","b64CodeForLog error: "+e.message);return t}},log:function e(t,n){}};"undefined"!=typeof window&&(window.WfUtils=WfUtils);e.exports?e.exports=WfUtils:"undefined"!=typeof window&&"function"==typeof window.define&&window.define.amd&&window.define(function(){return WfUtils})},function(e,t,n){var WfDevice={getInfo:r,getSimpleInfo:function e(){var t=r();return{deviceName:t.deviceName,deviceSize:t.deviceSize,os:t.os+(t.osVersion?" "+t.osVersion:""),browserName:t.browserName,browserVersion:t.browserVersion}},isIE8:function e(){return r().isIE8},getIE8Features:function e(){var t={hasLocalStorage:!1,hasJSON:!1,hasConsole:!1,hasPerformance:!1,documentMode:null};try{t.hasLocalStorage="undefined"!=typeof localStorage;t.hasJSON="undefined"!=typeof JSON;t.hasConsole="undefined"!=typeof console;t.hasPerformance="undefined"!=typeof performance;document.documentMode&&(t.documentMode=document.documentMode)}catch(e){}return t},getNetworkType:function e(){try{return navigator.connection&&navigator.connection.effectiveType?navigator.connection.effectiveType:"unknown"}catch(e){return"unknown"}}};function r(){var e={deviceName:"PC",deviceSize:"1024x768",os:"web",osVersion:"",browserName:"\u5176\u4ed6",browserVersion:"",isWeixin:!1,isIE8:!1};try{var t=navigator.userAgent||"",n=screen.width||1024;e.deviceSize=n+"x"+(screen.height||768);e.isWeixin=-1<t.indexOf("MicroMessenger");if(-1<t.indexOf("Mobile")){e.deviceName="Mobile Device";e.os="mobile";e.browserName="mobile"}else{var r=function e(t){var n={browserName:"\u5176\u4ed6",browserVersion:"",isIE8:!1};try{var r=t.toLowerCase();if(-1<r.indexOf("msie")){n.browserName="ie";var o=r.match(/msie\s+([\d.]+)/);if(o){n.browserVersion=o[1];n.isIE8=0===o[1].indexOf("8.")}}else if(-1<r.indexOf("edg")){n.browserName="edge";var i=r.match(/edg\/([\d.]+)/);i&&(n.browserVersion=i[1])}else if(-1<r.indexOf("firefox")){n.browserName="firefox";var a=r.match(/firefox\/([\d.]+)/);a&&(n.browserVersion=a[1])}else if(-1<r.indexOf("safari")&&-1===r.indexOf("chrome")){n.browserName="safari";var s=r.match(/safari\/([\d.]+)/);s&&(n.browserVersion=s[1])}else if(-1<r.indexOf("chrome")){n.browserName="chrome";var u=r.match(/chrome\/([\d.]+)/);u&&(n.browserVersion=u[1]);if(-1<r.indexOf("360se")){n.browserName="360";var f=r.match(/360se\/([\d.]+)/);f&&(n.browserVersion=f[1])}}else if(-1<r.indexOf("micromessenger")){n.browserName="weixin";var c=t.match(/MicroMessenger\/([\d.]+)/i);c&&(n.browserVersion=c[1])}}catch(e){}return n}(t);e.browserName=r.browserName;e.browserVersion=r.browserVersion;e.isIE8=r.isIE8;var o=function e(t){var n={os:"web",osVersion:"",deviceName:"PC"};try{var r=navigator.platform?navigator.platform.toLowerCase():"",o=t.toLowerCase();if(-1!==r.indexOf("win")||-1!==o.indexOf("windows")){n.os="windows";n.deviceName="Windows PC";if(-1!==o.indexOf("windows nt 10.0"))n.osVersion="10";else if(-1!==o.indexOf("windows nt 6.3"))n.osVersion="8.1";else if(-1!==o.indexOf("windows nt 6.2"))n.osVersion="8";else if(-1!==o.indexOf("windows nt 6.1"))n.osVersion="7";else if(-1!==o.indexOf("windows nt 6.0"))n.osVersion="Vista";else if(-1!==o.indexOf("windows nt 5.1"))n.osVersion="XP";else if(-1!==o.indexOf("windows nt 5.0"))n.osVersion="2000";else{var i=o.match(/windows nt ([\d.]+)/);n.osVersion=i?i[1]:"Unknown"}}else if(-1!==r.indexOf("mac")){n.os="macos";n.deviceName="Mac";var a=o.match(/mac os x ([\d_]+)/);if(a)n.osVersion=a[1].replace(/_/g,".");else{var s=o.match(/mac os x ([\d.]+)/);s&&(n.osVersion=s[1])}}else if(-1!==r.indexOf("linux")){n.os="linux";n.deviceName="Linux PC";-1!==o.indexOf("ubuntu")?n.osVersion="Ubuntu":-1!==o.indexOf("fedora")?n.osVersion="Fedora":-1!==o.indexOf("centos")?n.osVersion="CentOS":-1!==o.indexOf("debian")?n.osVersion="Debian":n.osVersion="Unknown"}else if(-1!==o.indexOf("cros")){n.os="chromeos";n.deviceName="Chromebook";var u=o.match(/cros [\w]+ ([\d.]+)/);u&&(n.osVersion=u[1])}}catch(e){}return n}(t);e.os=o.os;e.osVersion=o.osVersion;e.deviceName=o.deviceName}}catch(e){}return e}"undefined"!=typeof window&&(window.WfDevice=WfDevice);e.exports?e.exports=WfDevice:"undefined"!=typeof window&&"function"==typeof window.define&&window.define.amd&&window.define(function(){return WfDevice})},function(e,t,n){o="webfunny_monitor",r="monitorCustomerKeys",i="lastBrowseDate",a="visitPageCount";var o,r,i,a,WfStorage={setItem:function e(t,n){return!(!t||null==n)&&(n=String(n),!(!f()||!s(t,n))||u(t,n,3650))},getItem:function e(t){if(!t)return null;if(f()){var n=function e(t){try{var n=document.createElement("div");n.style.behavior="url(#default#userData)";n.style.display="none";document.body.appendChild(n);n.load(o);var r=n.getAttribute(t);document.body.removeChild(n);return r||null}catch(e){return null}}(t);if(null!==n)return n}return function e(t){try{for(var n="wf_"+t+"=",r=document.cookie.split(";"),o=0;o<r.length;o++){for(var i=r[o];" "===i.charAt(0);)i=i.substring(1);if(0===i.indexOf(n))return decodeURIComponent(i.substring(n.length))}return null}catch(e){return null}}(t)},removeItem:function e(t){if(!t)return!1;var n=!1;f()&&(n=s(t,"")||n);return n=u(t,"",-1)||n},recordVisit:function e(t){if(t)try{var n=this._getToday();if(this.getItem(i)!==n){this.setItem(i,n);this.setItem(a+"_"+t,"1")}else{var r=a+"_"+t,o=parseInt(this.getItem(r)||"0");this.setItem(r,String(o+1))}}catch(e){}},_getToday:function e(){var t=new Date,n=t.getFullYear(),r=t.getMonth()+1,t=t.getDate();return n+"-"+(r<10?"0"+r:r)+"-"+(t<10?"0"+t:t)},getVisitStats:function e(t){if(!t)return{isNewDay:!1,visitCount:0};try{var n=this._getToday(),r=this.getItem(i),o=a+"_"+t;return{isNewDay:r!==n,visitCount:parseInt(this.getItem(o)||"0")}}catch(e){return{isNewDay:!1,visitCount:0}}},clear:function e(){try{this.removeItem(r);this.removeItem(i);for(var t=0;t<10;t++)this.removeItem(a+"_key"+t);return!0}catch(e){return!1}},checkSupport:function e(){return{userData:f(),cookie:"undefined"!=typeof document&&"string"==typeof document.cookie}}};function s(e,t){try{var n=document.createElement("div");n.style.behavior="url(#default#userData)";n.style.display="none";document.body.appendChild(n);n.setAttribute(e,t);n.save(o);document.body.removeChild(n);return!0}catch(e){return!1}}function u(e,t,n){try{var r="";if(n){var o=new Date;o.setTime(o.getTime()+24*n*60*60*1e3);r="; expires="+o.toUTCString()}document.cookie="wf_"+e+"="+encodeURIComponent(t)+r+"; path=/";return!0}catch(e){return!1}}function f(){try{if("undefined"==typeof document)return!1;if(!document.createElement)return!1;var e=document.createElement("div");e.style.behavior="url(#default#userData)";return"function"==typeof e.save}catch(e){return!1}}"undefined"!=typeof window&&(window.WfStorage=WfStorage);e.exports?e.exports=WfStorage:"undefined"!=typeof window&&"function"==typeof window.define&&window.define.amd&&window.define(function(){return WfStorage})},function(e,t,n){l={CUSTOMER_PV:"CUSTOMER_PV",CUS_LEAVE:"CUS_LEAVE",PAGE_LOAD:"PAGE_LOAD"},c=(new Date).getTime(),d={webMonitorId:"",uploadUrl:""};var l,c,d,WfPageView={init:function e(t){if(t){d.webMonitorId=t.webMonitorId||"";d.uploadUrl=t.uploadUrl||""}},getPageViewInfo:o,getLoadPageInfo:i,getLeavePageViewInfo:r,recordPageView:function e(t){try{if(d.webMonitorId){void 0!==window.WfStorage&&window.WfStorage.recordVisit(d.webMonitorId);var n=window.WfUtils.getPageInfo(),r=o(n,"navigate");r&&t&&t(r);setTimeout(function(){var e=i(n,"navigate");e&&t&&t(e)},1e3)}}catch(e){e.message}},bindUnloadEvent:function e(n){try{var t=function e(){var t=r(window.WfUtils.getPageInfo(),{leaveType:1});t&&n&&n(t)};if(window.attachEvent){window.attachEvent("onbeforeunload",t);window.attachEvent("onunload",t)}else if(window.addEventListener){window.addEventListener("beforeunload",t,!1);window.addEventListener("unload",t,!1)}else{window.onbeforeunload=t;window.onunload=t}}catch(e){e.message}},getStayTime:function e(){return(new Date).getTime()-c},getUploadTypes:function e(){return l}};function o(e,t){try{var n=void 0!==window.WfDevice?window.WfDevice.getSimpleInfo():p(),r=void 0!==window.WfUtils?window.WfUtils.getCustomerKey(d.webMonitorId):window.WfUtils.getBasicCustomerInfo(),o=window.WfUtils.getPageInfo(),i=window.WfUtils.getCusInfo("userId")||"",a=window.WfUtils.getCusInfo("firstUserParam")||"",s=window.WfUtils.getAppInfo("projectVersion")||"1.0.0",u=window.WfUtils.getAppInfo("env")||"pro",f={webMonitorId:d.webMonitorId,userId:i,firstUserParam:a,projectVersion:s,env:u,completeUrl:o.completeUrl,simpleUrl:o.simpleUrl,customerKey:r.customerKey,uploadType:l.CUSTOMER_PV,happenTime:(new Date).getTime(),pageKey:function e(){try{var t,n;return void 0!==window.WfUtils&&window.WfUtils.getUuid?window.WfUtils.getUuid():(t=(new Date).getTime(),n=Math.floor(1e4*Math.random()),"page_"+t+"_"+n)}catch(e){return"page_"+(new Date).getTime()}}(),deviceName:n.deviceName,deviceSize:n.deviceSize,os:n.os,browserName:n.browserName,browserVersion:n.browserVersion,monitorIp:"",country:"",province:"",city:"",loadType:t||"navigate",newStatus:r.newStatus,referrer:function e(){try{var t,n=document.referrer||"";return n?(t=n.split("?")[0],void 0!==window.WfUtils&&window.WfUtils.b64Code?window.WfUtils.b64Code(t):encodeURIComponent(t)):""}catch(e){return""}}()},c=window.WfUtils.mergeObjects(e||{},f);return window.WfUtils.b64CodeForLog(c)}catch(e){m(e.message);return null}}function i(e,t){try{var n=void 0!==window.WfDevice?window.WfDevice.getSimpleInfo():p(),r=window.WfUtils.getPageInfo(),o=window.WfUtils.getCusInfo("userId")||"",i=window.WfUtils.getCusInfo("firstUserParam")||"",a=window.WfUtils.getAppInfo("projectVersion")||"1.0.0",s=window.WfUtils.getAppInfo("env")||"pro",u=function e(){var t={firstByte:0,domReady:0,pageCompleteLoaded:0};try{if(window.performance&&window.performance.timing){var n=window.performance.timing,r=n.navigationStart||n.fetchStart;if(r){t.firstByte=n.responseStart?n.responseStart-r:0;t.domReady=n.domContentLoadedEventEnd?n.domContentLoadedEventEnd-r:0;t.pageCompleteLoaded=n.loadEventStart?n.loadEventStart-r:0}}else{var o=(new Date).getTime();t.pageCompleteLoaded=o-c}}catch(e){}return t}(),f={webMonitorId:d.webMonitorId,userId:o,firstUserParam:i,projectVersion:a,env:s,completeUrl:r.completeUrl,simpleUrl:r.simpleUrl,uploadType:l.PAGE_LOAD,happenTime:(new Date).getTime(),loadType:t||"navigate",firstByte:u.firstByte,domReady:u.domReady,domAnalysis:u.pageCompleteLoaded,pageCompleteLoaded:u.pageCompleteLoaded,dns:0,tcp:0,ssl:0,response:0,conTrans:0,resourceLoaded:0,effectiveType:"unknown",os:n.os};return window.WfUtils.mergeObjects(e||{},f)}catch(e){m(e.message);return null}}function r(e,t){try{var n=(t||{}).leaveType||1,r={webMonitorId:d.webMonitorId,uploadType:l.CUS_LEAVE,happenTime:(new Date).getTime(),leaveType:n,stayTime:(new Date).getTime()-c};return window.WfUtils.mergeObjects(e||{},r)}catch(e){m(e.message);return null}}function p(){return{deviceName:"PC",deviceSize:(screen.width||1024)+"x"+(screen.height||768),os:"windows",browserName:"ie",browserVersion:"8.0"}}function m(){}"undefined"!=typeof window&&(window.WfPageView=WfPageView);e.exports?e.exports=WfPageView:"undefined"!=typeof window&&"function"==typeof window.define&&window.define.amd&&window.define(function(){return WfPageView})},function(e,t,n){r=!(o={ELE_BEHAVIOR:"ELE_BEHAVIOR"});var o,r,WfAction={init:function e(t){if(t){t.webMonitorId;0}},getClickInfo:s,startClickMonitor:function e(t){try{if(!r&&(t&&"function"==typeof t)){!function e(t,n,r){try{t.addEventListener?t.addEventListener(n,r,!1):t.attachEvent?t.attachEvent("on"+n,function(e){(e=e||window.event).target=e.target||e.srcElement;r.call(t,e)}):t["on"+n]=r}catch(e){e.message}}(document,"click",function(e){!function e(t,n){try{var r=t||window.event,o=r.target||r.srcElement;if(o){var i=u(o),a=s(window.WfUtils.getBaseInfo(),i);a&&n&&n(a)}}catch(t){f(t.message)}}(e,t)});r=!0}}catch(e){e.message}},recordClick:function e(t,n){try{if(t&&n){var r=u(t),o=s(window.WfUtils.getBaseInfo(),r);o&&n(o)}}catch(e){e.message}},stopClickMonitor:function e(){try{r=!1}catch(e){e.message}},isInitialized:function e(){return r},getUploadTypes:function e(){return o}};function s(e,t){try{var n={uploadType:o.ELE_BEHAVIOR,happenTime:(new Date).getTime(),behaviorType:t.behaviorType||"click",className:t.className||"",placeholder:t.placeholder||"",inputValue:t.inputValue||"",tagName:t.tagName||"",innerText:t.innerText||""},r=window.WfUtils.mergeObjects(e||{},n);return window.WfUtils.b64CodeForLog(r)}catch(e){f(e.message);return null}}function u(e){var t={behaviorType:"click",className:"",placeholder:"",inputValue:"",tagName:"",innerText:""};try{if(!e)return t;t.tagName=e.tagName?e.tagName.toLowerCase():"";if("svg"===t.tagName||"use"===t.tagName)return t;e.className&&(t.className="string"==typeof e.className?e.className:e.className.baseVal||"");e.placeholder&&(t.placeholder=e.placeholder);void 0!==e.value&&(t.inputValue=e.value);var n="";void 0!==e.innerText?n=e.innerText:void 0!==e.textContent&&(n=e.textContent);if(n){100<(n=n.replace(/\s+/g," ").replace(/^\s+|\s+$/g,"")).length&&(n=n.substring(0,50)+" ... "+n.substring(n.length-49));t.innerText=n}}catch(e){f(e.message)}return t}function f(){}"undefined"!=typeof window&&(window.WfAction=WfAction);e.exports?e.exports=WfAction:"undefined"!=typeof window&&"function"==typeof window.define&&window.define.amd&&window.define(function(){return WfAction})},function(e,t,n){function m(e){return(m="function"==typeof undefined&&"symbol"==typeof "undefined.iterator"?function(e){return typeof e}:function(e){return e&&"function"==typeof undefined&&e.constructor===undefined&&e!==Object.prototype?"symbol":typeof e})(e)}w={JS_ERROR:"JS_ERROR"},l="on_error",g="console_error",r=!(y={webMonitorId:"",uploadUrl:""}),a=null;var w,l,g,y,r,a,WfError={init:function e(t){if(t){y.webMonitorId=t.webMonitorId||"";y.uploadUrl=t.uploadUrl||""}},getJavaScriptErrorInfo:d,startErrorMonitor:function e(i){try{if(!r&&(i&&"function"==typeof i)){a=window.onerror;window.onerror=function(e,t,n,r,o){try{!function e(t,n,r,o,i,a){try{var s=t||"Unknown error",u="",u=i&&i.stack?i.stack:i&&i.message?i.message:s+" at "+(n||"unknown")+":"+(r||0),f={infoType:l,errorMsg:s,errorObj:u},c=d(window.WfUtils.getBaseInfo(),f);c&&a&&a(c)}catch(e){h(e.message)}}(e,t,n,0,o,i);return a&&"function"==typeof a?a.apply(this,arguments):!1}catch(e){e.message;return!1}};r=!0}}catch(e){e.message}},recordError:function e(t,n){try{if(n){var r="",o="";if("string"==typeof t)o="Manual error: "+(r=t);else if(t&&t.message){r=t.message;o=t.stack||t.message}else{r=String(t);o=String(t)}var i={infoType:g,errorMsg:r,errorObj:o},a=d(window.WfUtils.getBaseInfo(),i);a&&n(a)}}catch(e){e.message}},stopErrorMonitor:function e(){try{if(r){window.onerror=a;a=null;r=!1}}catch(e){e.message}},isInitialized:function e(){return r},getUploadTypes:function e(){return w}};function d(e,t){try{var n=t||{},r=n.infoType||g,o=function e(t,n){var r={fullMessage:"",simpleMessage:"",stack:"",errorType:""};try{var o=t||"",i=n||"";if(0===o.length&&0===i.length)return r;1e3<=o.length&&(o=o.substring(0,999));if("string"==typeof i&&3e3<=i.length)i=i.substring(0,2999);else if("object"===m(i))try{3e3<=(i=JSON.stringify(i)).length&&(i=i.substring(0,2999))}catch(e){i=String(i)}"function"==typeof o&&(o=o.toString());var a="",s=(80<o.length?a=o.substring(0,80):0<o.length&&(a=o),"");if(o)if("string"==typeof i)s=i.split(": ")[0].replace(/"/g,"");else{var u=String(i);s=u.split(": ")[0].replace(/"/g,"")}r.fullMessage=s+": "+o;r.simpleMessage=s+": "+a;r.stack=String(i);r.errorType=s}catch(e){h(e.message)}return r}(n.errorMsg||"",n.errorObj||""),i=function e(){try{return"undefined"!=typeof window&&void 0!==window.WfDevice?window.WfDevice.getSimpleInfo():{deviceName:"PC",os:"windows",browserName:"ie",browserVersion:"8.0"}}catch(e){return{deviceName:"PC",os:"windows",browserName:"ie",browserVersion:"8.0"}}}(),a=void 0!==window.WfUtils?window.WfUtils.getCustomerKey(y.webMonitorId):window.WfUtils.getBasicCustomerInfo(),s=window.WfUtils.getPageInfo(),u=window.WfUtils.getCusInfo("userId")||"",f=window.WfUtils.getCusInfo("firstUserParam")||"",c=window.WfUtils.getAppInfo("projectVersion")||"1.0.0",l=window.WfUtils.getAppInfo("env")||"pro",d={webMonitorId:y.webMonitorId,userId:u,firstUserParam:f,projectVersion:c,env:l,completeUrl:"",simpleUrl:s.simpleUrl,customerKey:a.customerKey,uploadType:w.JS_ERROR,happenTime:(new Date).getTime(),infoType:r,deviceName:i.deviceName,os:i.os,browserName:i.browserName,browserVersion:i.browserVersion,errorMessage:window.WfUtils.b64Code(o.simpleMessage)},p=window.WfUtils.mergeObjects(e||{},d);return window.WfUtils.b64CodeForLog(p)}catch(e){h(e.message);return null}}function h(){}"undefined"!=typeof window&&(window.WfError=WfError);e.exports?e.exports=WfError:"undefined"!=typeof window&&"function"==typeof window.define&&window.define.amd&&window.define(function(){return WfError})},function(e,t,n){var q={},B=null,u=null,o=null,F={OPENED:1,HEADERS_RECEIVED:2,LOADING:3,DONE:4},H=["/wfMonitor/upLog","/wfMonitor/upDLog","/wfMonitor/upLogs","/wfEvent/upEvent","/wfEvent/upEvents","/wfEvent/initCf"];function J(t,e){try{if(!t)return null;var n=document.createElement("a");if(e&&!t.match(/^https?:\/\//))if(0===t.indexOf("//"))t=window.location.protocol+t;else if(0===t.indexOf("/")){var r=document.createElement("a");r.href=e;t=r.protocol+"//"+r.host+t}else{var o=document.createElement("a");o.href=e;t=o.href.replace(/\/[^\/]*$/,"/")+t}n.href=t;return{href:n.href,protocol:n.protocol,host:n.host,hostname:n.hostname,port:n.port,pathname:n.pathname,search:n.search,hash:n.hash}}catch(e){return{href:t,protocol:"",host:"",hostname:"",port:"",pathname:"",search:"",hash:""}}}function K(e){return e?1e4<e.length?e.substring(0,1e4)+"...":e:""}function Q(e){try{var t=e.simpleUrl||e.url||"";if(!t&&e.url){var n=J(e.url);n&&(t=n.protocol+"//"+n.host+n.pathname)}if(!B||!B.checkIgnore||!B.checkIgnore("hl",t)){var r=!1;if(t)for(var o=0;o<H.length;o++)if(-1!==t.indexOf(H[o])){r=!0;break}if(r)return}var i,a=B?B.getBaseInfo():{},s={uploadType:"HTTP_LOG",happenTime:e.currentTime||(new Date).getTime(),method:e.method||"GET",simpleUrl:e.simpleUrl||"",httpUrl:e.url||"",status:e.status||0,statusText:e.statusText||"",statusResult:e.statusResult||"request",currentTime:e.currentTime||(new Date).getTime(),loadTime:e.loadTime||0,headerText:e.headerText||"",requestText:e.requestText||"",responseText:e.responseText||"",segment:e.segment||"",traceId:e.traceId||""};B&&B.b64CodeForLog&&(s=B.b64CodeForLog(s));for(i in a)Object.prototype.hasOwnProperty.call(a,i)&&(s[i]=a[i]);u&&u(s)}catch(e){}}function a(e,t){try{"xhrReadyStateChange"===t&&!function L(e){try{B?B.getUuid():(new Date).getTime(),B?B.getUuid():(new Date).getTime();var t=q.webMonitorId||"unknown",n=q.hasTrace||"0",r=B?B.getUuid():"trace_"+(new Date).getTime(),o=B?B.getUuid():"segment_"+(new Date).getTime(),i={traceId:r,service:t,spans:[],serviceInstance:B?B.getAppInfo("projectVersion"):"1.0.0",serviceEnvironment:B?B.getAppInfo("env"):"prod",traceSegmentId:o},a=window.location.pathname,s=e.detail.readyState,u=e.detail.getRequestConfig,f={},c=(u&&u[1]&&(f=0===u[1].indexOf("http://")||0===u[1].indexOf("https://")?J(u[1]):0===u[1].indexOf("//")?J(window.location.protocol+u[1]):J(u[1],window.location.href)),!1);if(f&&f.href)for(var l=0;l<H.length;l++)if(-1!==f.href.indexOf(H[l])){c=!0;break}if(!0!==c){if(s===F.OPENED){window._wfHttpCollector||(window._wfHttpCollector=[]);window._wfHttpCollector.push({event:e.detail,startTime:(new Date).getTime(),traceId:r,traceSegmentId:o});if("1"===n&&B){var d=String(B.b64Code?B.b64Code(r):r),p=String(B.b64Code?B.b64Code(o):o),m=String(B.b64Code?B.b64Code(t):t),w=String(B.b64Code?B.b64Code(i.serviceInstance):i.serviceInstance),g=String(B.b64Code?B.b64Code(a):a),_=String(B.b64Code?B.b64Code(window.location.host):window.location.host),A=i.spans.length,R="1-"+d+"-"+p+"-"+A+"-"+m+"-"+w+"-"+g+"-"+_;try{e.detail.setRequestHeader("sw8",R)}catch(e){}}}if(s===F.DONE)for(var y=(new Date).getTime()+1,h=window._wfHttpCollector||[],v=0;v<h.length;v++)if(h[v].event.readyState===F.DONE){var b=f,I=e.detail.getRequestBody||"",S="";try{var x=e.detail;if(x){var T=x.responseType||"";""===T||"text"===T?S=x.responseText||"":"json"===T&&(S=JSON.stringify(x.response||{}))}}catch(e){S=""}I=K(I);S=K(S);var U=u?u[0]:"GET",O=e.detail.status||0,E=e.detail.statusText||"",C=h[v].startTime,k=y-C,z=h[v].traceId,M=(h[v].traceSegmentId,"0"===n&&(i=""),window.WfUtils.getPageInfo()),W=window.WfUtils.getCusInfo("userId")||"",N=window.WfUtils.getCusInfo("firstUserParam")||"",V=window.WfUtils.getAppInfo("projectVersion")||"1.0.0",D=window.WfUtils.getAppInfo("env")||"pro",j=b.href||f.protocol+"//"+f.host+f.pathname,P=b.href||j;Q({webMonitorId:u.webMonitorId,userId:W,firstUserParam:N,projectVersion:V,env:D,completeUrl:M.completeUrl,uploadType:"HTTP_LOG",method:U,headerText:"",simpleUrl:P,httpUrl:j,status:O,statusText:E,statusResult:"request",requestText:"",responseText:"",happenTime:C,loadTime:0});Q({webMonitorId:u.webMonitorId,userId:W,firstUserParam:N,projectVersion:V,env:D,completeUrl:M.completeUrl,uploadType:"HTTP_LOG",method:U,headerText:"",simpleUrl:P,httpUrl:j,status:O,statusText:E,statusResult:"response",requestText:I,responseText:S,happenTime:y,loadTime:k,segment:i,traceId:z});h.splice(v,1);break}}}catch(e){}}({detail:e})}catch(e){}}var r={init:function e(t,n,r){try{u=n;B=r;if((q=t||{}).enableHttp){window._wfHttpCollector=[];!function e(){try{var t=function e(){var t=new o,n=t.onreadystatechange;t.onreadystatechange=function(){try{a(this,"xhrReadyStateChange")}catch(e){}n&&n.apply(this,arguments)};t.open=function(e,t,n,r,o){this.getRequestConfig=arguments;return i.apply(this,arguments)};t.send=function(e){this.getRequestBody=e;return r.apply(this,arguments)};return t};if("undefined"!=typeof XMLHttpRequest){o=window.XMLHttpRequest;var r=XMLHttpRequest.prototype.send,i=XMLHttpRequest.prototype.open;if(r&&i){o.getRequestConfig=[];window.XMLHttpRequest=t}}}catch(e){}}()}}catch(e){}},recordHttp:function e(t){try{t&&t.url&&Q(t)}catch(e){}},getStatus:function e(){return{enabled:!!q.enableHttp,xhrOverridden:window.XMLHttpRequest!==o}}};e.exports&&(e.exports=r);window.WfHttp=r},function(e,t,n){s={uploadUrl:"",maxRetries:3,retryDelay:1e3,timeout:5e3,enableBatch:!0,maxBatchSize:10},r={IMAGE:"image",XHR:"xhr",JSONP:"jsonp"},o=[];var s,r,o,WfUpload={init:function e(t){if(t){s.uploadUrl=t.uploadUrl||s.uploadUrl;s.maxRetries=t.maxRetries||s.maxRetries;s.retryDelay=t.retryDelay||s.retryDelay;s.timeout=t.timeout||s.timeout;s.enableBatch=(void 0!==t.enableBatch?t:s).enableBatch;s.maxBatchSize=t.maxBatchSize||s.maxBatchSize}},send:function e(t,n){var r=s.uploadUrl;if(r)try{var o=window.XMLHttpRequest?new XMLHttpRequest:new ActiveXObject("Microsoft.XMLHTTP");o.open("post",r,!0);o.setRequestHeader("Content-Type","application/json");o.onreadystatechange=function(){if(4==o.readyState)try{o.responseText&&JSON.parse(o.responseText)}catch(e){0}};o.onerror=function(e){};var i=JSON.stringify(t||[]);o.send(i)}catch(e){}},sendBatch:function e(t,n){if(!f(t)||0===t.length)return!1;if(t.length>s.maxBatchSize){for(var r=[],o=0;o<t.length;o+=s.maxBatchSize)r.push(t.slice(o,o+s.maxBatchSize));for(var i=!0,a=0;a<r.length;a++)i=u(r[a],n)&&i;return i}return u(t,n)},flushRetryQueue:function e(){},getRetryQueueStatus:function e(){return{length:o.length,oldest:0<o.length?o[0].timestamp:null}},clearRetryQueue:function e(){o=[]},getMethods:function e(){return r},test:function e(){}};function i(e,t,n){try{var r=JSON.stringify(e),o=-1<t.indexOf("?")?"&":"?",i=t+o+"data="+encodeURIComponent(r);if(2e3<i.length)return!1;var a=new Image;a.onload=function(){n&&n.onSuccess&&"function"==typeof n.onSuccess&&n.onSuccess({})};a.onerror=function(){n&&n.onError&&"function"==typeof n.onError&&n.onError(new Error("Image upload failed"))};a.src=i;return!0}catch(e){return!1}}function u(e,t){var n=t&&t.uploadUrl||s.uploadUrl;if(!n)return!1;if(f(e)){for(var r=!0,o=0;o<e.length;o++)r=i([e[o]],n,t)&&r;return r}return i([e],n,t)}function f(e){return"[object Array]"===Object.prototype.toString.call(e)}"undefined"!=typeof window&&(window.WfUpload=WfUpload);e.exports?e.exports=WfUpload:"undefined"!=typeof window&&"function"==typeof window.define&&window.define.amd&&window.define(function(){return WfUpload})},function(e,t,n){o={maxQueueSize:100,batchSize:10,flushInterval:3e3,maxRetries:3,enableAutoFlush:!0},s=i=null,u=r=!(a=[]);var o,a,i,s,r,u,WfQueue={init:function e(t,n){try{if(t){o.maxQueueSize=t.maxQueueSize||o.maxQueueSize;o.batchSize=t.batchSize||o.batchSize;o.flushInterval=t.flushInterval||o.flushInterval;o.maxRetries=t.maxRetries||o.maxRetries;o.enableAutoFlush=(void 0!==t.enableAutoFlush?t:o).enableAutoFlush}n&&(s=n);!function e(){try{if(!u){if(window.attachEvent){window.attachEvent("onbeforeunload",d);window.attachEvent("onunload",d)}else if(window.addEventListener){window.addEventListener("beforeunload",d,!1);window.addEventListener("unload",d,!1)}else{window.onbeforeunload=d;window.onunload=d}u=!0}}catch(e){w(e.message)}}();setInterval(p,6e4);r=!0}catch(e){e.message}},add:function e(t,n){try{if(!t)return w(),!1;if(a.length>=o.maxQueueSize){w();l()}var r={data:t,timestamp:(new Date).getTime(),retryCount:0,options:n||{}};a.push(r);o.enableAutoFlush&&f();return!0}catch(e){w(e.message);return!1}},flush:function e(){try{l()}catch(e){e.message}},pause:function e(){try{o.enableAutoFlush=!1;if(i){clearTimeout(i);i=null}}catch(e){e.message}},resume:function e(){try{o.enableAutoFlush=!0;0<a.length&&f()}catch(e){e.message}},clear:function e(){try{a=[];if(i){clearTimeout(i);i=null}}catch(e){e.message}},getStatus:function e(){try{var t=function e(){try{var t={length:a.length,oldestTimestamp:0,newestTimestamp:0,totalRetries:0};if(0<a.length){for(var n=[],r=0;r<a.length;r++)n.push(a[r].timestamp);t.oldestTimestamp=Math.min.apply(Math,n);t.newestTimestamp=Math.max.apply(Math,n);for(var o=0,i=0;i<a.length;i++)o+=a[i].retryCount;t.totalRetries=o}return t}catch(e){w(e.message);return{length:0,oldestTimestamp:0,newestTimestamp:0,totalRetries:0}}}();return{initialized:r,autoFlushEnabled:o.enableAutoFlush,queueLength:t.length,oldestItem:t.oldestTimestamp,newestItem:t.newestTimestamp,totalRetries:t.totalRetries,hasTimer:null!==i}}catch(e){e.message;return{initialized:!1,autoFlushEnabled:!1,queueLength:0,oldestItem:0,newestItem:0,totalRetries:0,hasTimer:!1}}},setUploader:function e(t){s=t},updateConfig:function e(t){try{if(t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&Object.prototype.hasOwnProperty.call(o,n)&&(o[n]=t[n])}catch(e){e.message}}};function f(){try{a.length>=o.batchSize?c():!i&&0<a.length&&(i=setTimeout(function(){c()},o.flushInterval))}catch(e){w(e.message)}}function c(){try{if(i){clearTimeout(i);i=null}if(0!==a.length)if(s){for(var n=a.splice(0,o.batchSize),e=[],t=0;t<n.length;t++)e.push(n[t].data);var r={onSuccess:function e(t){!function e(t){try{m(t.length)}catch(e){w(e.message)}}(n)},onError:function e(t){}};1<=e.length&&s.sendBatch(e,r);0<a.length&&o.enableAutoFlush&&f()}else w()}catch(e){w(e.message)}}function l(){try{for(;0<a.length;)c()}catch(e){w(e.message)}}function d(){try{l();s&&s.flushRetryQueue&&s.flushRetryQueue()}catch(e){w(e.message)}}function p(){try{for(var e=(new Date).getTime(),t=[],n=0;n<a.length;n++)e-a[n].timestamp<3e5&&t.push(a[n]);a=t}catch(e){w(e.message)}}function m(){}function w(){}"undefined"!=typeof window&&(window.WfQueue=WfQueue);e.exports?e.exports=WfQueue:"undefined"!=typeof window&&"function"==typeof window.define&&window.define.amd&&window.define(function(){return WfQueue})}]);